{"version":3,"sources":["node_modules/curvature/base/Bag.js","node_modules/curvature/base/Bindable.js","node_modules/curvature/base/Cache.js","node_modules/curvature/base/Config.js","node_modules/curvature/base/Dom.js","node_modules/curvature/base/Mixin.js","node_modules/curvature/base/Router.js","node_modules/curvature/base/Routes.js","node_modules/curvature/base/RuleSet.js","node_modules/curvature/base/SetMap.js","node_modules/curvature/base/Tag.js","node_modules/curvature/base/Uuid.js","node_modules/curvature/base/View.js","node_modules/curvature/base/ViewList.js","node_modules/curvature/input/Axis.js","node_modules/curvature/input/Button.js","node_modules/curvature/input/Gamepad.js","node_modules/curvature/mixin/EventTargetMixin.js","node_modules/curvature/mixin/PromiseMixin.js","source/ArcType.js","source/Config.js","source/arctype.html","source/initialize.js","node_modules/auto-reload-brunch/vendor/auto-reload.js"],"names":["_View2","require","_Gamepad","_typeof","o","Symbol","iterator","constructor","prototype","_createForOfIteratorHelper","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","Object","toString","slice","name","from","test","iter","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","_callSuper","t","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","apply","self","_assertThisInitialized","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","obj","_toPrimitive","String","r","toPrimitive","Number","ArcType","exports","_View","args","parent","_this","lower","map","v","k","fromCharCode","charCodeAt","upper","number","extraA","split","extraB","extraC","banks","concat","letters","angle","document","addEventListener","event","deactivate","Gamepad","getPad","deadZone","axisMap","then","pad","eachFrame","readInput","buttons","active","delta","tags","buffer","focus","execCommand","selectionStart","selectionEnd","setButtons","Math","atan2","axes","magnitude","PI","selected","round","undefined","sectors","findTags","sector","classList","add","_iterator","keys","_step","querySelector","click","remove","requestAnimationFrame","onAttach","button","dataset","buttonId","innerText","preventDefault","currentTarget","letter","activate","isSameNode","node","setValue","arguments","stopPropagation","stopImmediatePropagation","View","Config","_ArcType","root","render","body","arc","matches","capture","WebSocket","window","MozWebSocket","br","brunch","ar","disabled","_ar","cacheBuster","url","date","Date","now","replace","indexOf","browser","navigator","userAgent","toLowerCase","forceRepaint","reloaders","page","location","reload","stylesheet","querySelectorAll","filter","link","val","getAttribute","href","forEach","setTimeout","offsetHeight","javascript","scripts","textScripts","script","text","srcScripts","src","loaded","all","onLoad","eval","newScript","createElement","async","onload","head","appendChild","port","host","server","hostname","connect","connection","onmessage","message","data","reloader","onerror","readyState","close","onclose"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACl0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3CA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAAkD,SAAAE,QAAAC,CAAA,sCAAAD,OAAA,wBAAAE,M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","file":"docs/app.js","sourcesContent":["\nrequire.register(\"curvature/base/Bag.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Bag = void 0;\nvar _Bindable = require(\"./Bindable\");\nvar _Mixin = require(\"./Mixin\");\nvar _EventTargetMixin = require(\"../mixin/EventTargetMixin\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar toId = function toId(_int) {\n  return Number(_int);\n};\nvar fromId = function fromId(id) {\n  return parseInt(id);\n};\nvar Mapped = Symbol('Mapped');\nvar Has = Symbol('Has');\nvar Add = Symbol('Add');\nvar Remove = Symbol('Remove');\nvar Delete = Symbol('Delete');\nvar Bag = /*#__PURE__*/function (_Mixin$with) {\n  _inherits(Bag, _Mixin$with);\n  var _super = _createSuper(Bag);\n  function Bag() {\n    var _this;\n    var changeCallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n    _classCallCheck(this, Bag);\n    _this = _super.call(this);\n    _this.changeCallback = changeCallback;\n    _this.content = new Map();\n    _this.current = 0;\n    _this.length = 0;\n    _this.list = _Bindable.Bindable.makeBindable([]);\n    _this.meta = Symbol('meta');\n    _this.type = undefined;\n    return _this;\n  }\n  _createClass(Bag, [{\n    key: \"has\",\n    value: function has(item) {\n      if (this[Mapped]) {\n        return this[Mapped].has(item);\n      }\n      return this[Has](item);\n    }\n  }, {\n    key: Has,\n    value: function value(item) {\n      return this.content.has(item);\n    }\n  }, {\n    key: \"add\",\n    value: function add(item) {\n      if (this[Mapped]) {\n        return this[Mapped].add(item);\n      }\n      return this[Add](item);\n    }\n  }, {\n    key: Add,\n    value: function value(item) {\n      if (item === undefined || !(item instanceof Object)) {\n        throw new Error('Only objects may be added to Bags.');\n      }\n      if (this.type && !(item instanceof this.type)) {\n        console.error(this.type, item);\n        throw new Error(\"Only objects of type \".concat(this.type, \" may be added to this Bag.\"));\n      }\n      item = _Bindable.Bindable.make(item);\n      if (this.content.has(item)) {\n        return;\n      }\n      var adding = new CustomEvent('adding', {\n        detail: {\n          item: item\n        }\n      });\n      if (!this.dispatchEvent(adding)) {\n        return;\n      }\n      var id = toId(this.current++);\n      this.content.set(item, id);\n      this.list[id] = item;\n      if (this.changeCallback) {\n        this.changeCallback(item, this.meta, Bag.ITEM_ADDED, id);\n      }\n      var add = new CustomEvent('added', {\n        detail: {\n          item: item,\n          id: id\n        }\n      });\n      this.dispatchEvent(add);\n      this.length = this.size;\n      return id;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      if (this[Mapped]) {\n        return this[Mapped].remove(item);\n      }\n      return this[Remove](item);\n    }\n  }, {\n    key: Remove,\n    value: function value(item) {\n      if (item === undefined || !(item instanceof Object)) {\n        throw new Error('Only objects may be removed from Bags.');\n      }\n      if (this.type && !(item instanceof this.type)) {\n        console.error(this.type, item);\n        throw new Error(\"Only objects of type \".concat(this.type, \" may be removed from this Bag.\"));\n      }\n      item = _Bindable.Bindable.make(item);\n      if (!this.content.has(item)) {\n        if (this.changeCallback) {\n          this.changeCallback(item, this.meta, 0, undefined);\n        }\n        return false;\n      }\n      var removing = new CustomEvent('removing', {\n        detail: {\n          item: item\n        }\n      });\n      if (!this.dispatchEvent(removing)) {\n        return;\n      }\n      var id = this.content.get(item);\n      delete this.list[id];\n      this.content[\"delete\"](item);\n      if (this.changeCallback) {\n        this.changeCallback(item, this.meta, Bag.ITEM_REMOVED, id);\n      }\n      var remove = new CustomEvent('removed', {\n        detail: {\n          item: item,\n          id: id\n        }\n      });\n      this.dispatchEvent(remove);\n      this.length = this.size;\n      return item;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(item) {\n      if (this[Mapped]) {\n        return this[Mapped][\"delete\"](item);\n      }\n      this[Delete](item);\n    }\n  }, {\n    key: Delete,\n    value: function value(item) {\n      this.remove(item);\n    }\n  }, {\n    key: \"map\",\n    value: function map() {\n      var mapper = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (x) {\n        return x;\n      };\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (x) {\n        return x;\n      };\n      var mappedItems = new WeakMap();\n      var mappedBag = new Bag();\n      mappedBag[Mapped] = this;\n      this.addEventListener('added', function (event) {\n        var item = event.detail.item;\n        if (!filter(item)) {\n          return;\n        }\n        if (mappedItems.has(item)) {\n          return;\n        }\n        var mapped = mapper(item);\n        mappedItems.set(item, mapped);\n        mappedBag[Add](mapped);\n      });\n      this.addEventListener('removed', function (event) {\n        var item = event.detail.item;\n        if (!mappedItems.has(item)) {\n          return;\n        }\n        var mapped = mappedItems.get(item);\n        mappedItems[\"delete\"](item);\n        mappedBag[Remove](mapped);\n      });\n      return mappedBag;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.content.size;\n    }\n  }, {\n    key: \"items\",\n    value: function items() {\n      return Array.from(this.content.entries()).map(function (entry) {\n        return entry[0];\n      });\n    }\n  }]);\n  return Bag;\n}(_Mixin.Mixin[\"with\"](_EventTargetMixin.EventTargetMixin));\nexports.Bag = Bag;\nObject.defineProperty(Bag, 'ITEM_ADDED', {\n  configurable: false,\n  enumerable: false,\n  writable: true,\n  value: 1\n});\nObject.defineProperty(Bag, 'ITEM_REMOVED', {\n  configurable: false,\n  enumerable: false,\n  writable: true,\n  value: -1\n});\n  })();\n});","\nrequire.register(\"curvature/base/Bindable.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Bindable = void 0;\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar Ref = Symbol('ref');\nvar Original = Symbol('original');\nvar Deck = Symbol('deck');\nvar Binding = Symbol('binding');\nvar SubBinding = Symbol('subBinding');\nvar BindingAll = Symbol('bindingAll');\nvar IsBindable = Symbol('isBindable');\nvar Wrapping = Symbol('wrapping');\nvar Names = Symbol('Names');\nvar Executing = Symbol('executing');\nvar Stack = Symbol('stack');\nvar ObjSymbol = Symbol('object');\nvar Wrapped = Symbol('wrapped');\nvar Unwrapped = Symbol('unwrapped');\nvar GetProto = Symbol('getProto');\nvar OnGet = Symbol('onGet');\nvar OnAllGet = Symbol('onAllGet');\nvar BindChain = Symbol('bindChain');\nvar Descriptors = Symbol('Descriptors');\nvar Before = Symbol('Before');\nvar After = Symbol('After');\nvar NoGetters = Symbol('NoGetters');\nvar TypedArray = Object.getPrototypeOf(Int8Array);\nvar SetIterator = Set.prototype[Symbol.iterator];\nvar MapIterator = Map.prototype[Symbol.iterator];\nvar win = globalThis;\nvar excludedClasses = [win.Node, win.File, win.Map, win.Set, win.WeakMap, win.WeakSet, win.ArrayBuffer, win.ResizeObserver, win.MutationObserver, win.PerformanceObserver, win.IntersectionObserver, win.IDBCursor, win.IDBCursorWithValue, win.IDBDatabase, win.IDBFactory, win.IDBIndex, win.IDBKeyRange, win.IDBObjectStore, win.IDBOpenDBRequest, win.IDBRequest, win.IDBTransaction, win.IDBVersionChangeEvent, win.Event, win.CustomEvent, win.FileSystemFileHandle].filter(function (x) {\n  return typeof x === 'function';\n});\nvar Bindable = /*#__PURE__*/function () {\n  function Bindable() {\n    _classCallCheck(this, Bindable);\n  }\n  _createClass(Bindable, null, [{\n    key: \"isBindable\",\n    value: function isBindable(object) {\n      if (!object || !object[IsBindable]) {\n        return false;\n      }\n      return object[IsBindable] === Bindable;\n    }\n  }, {\n    key: \"onDeck\",\n    value: function onDeck(object, key) {\n      return object[Deck][key] || false;\n    }\n  }, {\n    key: \"ref\",\n    value: function ref(object) {\n      return object[Ref] || object || false;\n    }\n  }, {\n    key: \"makeBindable\",\n    value: function makeBindable(object) {\n      return this.make(object);\n    }\n  }, {\n    key: \"shuck\",\n    value: function shuck(original, seen) {\n      seen = seen || new Map();\n      var clone = {};\n      if (original instanceof TypedArray || original instanceof ArrayBuffer) {\n        var _clone = original.slice(0);\n        seen.set(original, _clone);\n        return _clone;\n      }\n      var properties = Object.keys(original);\n      for (var i in properties) {\n        var ii = properties[i];\n        if (ii.substring(0, 3) === '___') {\n          continue;\n        }\n        var alreadyCloned = seen.get(original[ii]);\n        if (alreadyCloned) {\n          clone[ii] = alreadyCloned;\n          continue;\n        }\n        if (original[ii] === original) {\n          seen.set(original[ii], clone);\n          clone[ii] = clone;\n          continue;\n        }\n        if (original[ii] && _typeof(original[ii]) === 'object') {\n          var originalProp = original[ii];\n          if (Bindable.isBindable(original[ii])) {\n            originalProp = original[ii][Original];\n          }\n          clone[ii] = this.shuck(originalProp, seen);\n        } else {\n          clone[ii] = original[ii];\n        }\n        seen.set(original[ii], clone[ii]);\n      }\n      if (Bindable.isBindable(original)) {\n        delete clone.bindTo;\n        delete clone.isBound;\n      }\n      return clone;\n    }\n  }, {\n    key: \"make\",\n    value: function make(object) {\n      var _this = this;\n      if (!object || !['function', 'object'].includes(_typeof(object))) {\n        return object;\n      }\n      if (object[Ref]) {\n        return object[Ref];\n      }\n      if (object[IsBindable]) {\n        return object;\n      }\n      if (Object.isSealed(object) || Object.isFrozen(object) || !Object.isExtensible(object) || excludedClasses.filter(function (x) {\n        return object instanceof x;\n      }).length) {\n        return object;\n      }\n      Object.defineProperty(object, IsBindable, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: Bindable\n      });\n      Object.defineProperty(object, Ref, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: false\n      });\n      Object.defineProperty(object, Original, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: object\n      });\n      Object.defineProperty(object, Deck, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: {}\n      });\n      Object.defineProperty(object, Binding, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: {}\n      });\n      Object.defineProperty(object, SubBinding, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: new Map()\n      });\n      Object.defineProperty(object, BindingAll, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: []\n      });\n      Object.defineProperty(object, Executing, {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, Wrapping, {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, Stack, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: []\n      });\n      Object.defineProperty(object, Before, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: []\n      });\n      Object.defineProperty(object, After, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: []\n      });\n      Object.defineProperty(object, Wrapped, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: Object.preventExtensions(new Map())\n      });\n      Object.defineProperty(object, Unwrapped, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: {}\n      });\n      Object.defineProperty(object, Descriptors, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: Object.preventExtensions(new Map())\n      });\n      var bindTo = function bindTo(property) {\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var bindToAll = false;\n        if (Array.isArray(property)) {\n          var debinders = property.map(function (p) {\n            return bindTo(p, callback, options);\n          });\n          return function () {\n            return debinders.forEach(function (d) {\n              return d();\n            });\n          };\n        }\n        if (property instanceof Function) {\n          options = callback || {};\n          callback = property;\n          bindToAll = true;\n        }\n        if (options.delay >= 0) {\n          callback = _this.wrapDelayCallback(callback, options.delay);\n        }\n        if (options.throttle >= 0) {\n          callback = _this.wrapThrottleCallback(callback, options.throttle);\n        }\n        if (options.wait >= 0) {\n          callback = _this.wrapWaitCallback(callback, options.wait);\n        }\n        if (options.frame) {\n          callback = _this.wrapFrameCallback(callback, options.frame);\n        }\n        if (options.idle) {\n          callback = _this.wrapIdleCallback(callback);\n        }\n        if (bindToAll) {\n          var bindIndex = object[BindingAll].length;\n          object[BindingAll].push(callback);\n          if (!('now' in options) || options.now) {\n            for (var i in object) {\n              callback(object[i], i, object, false);\n            }\n          }\n          return function () {\n            delete object[BindingAll][bindIndex];\n          };\n        }\n        if (!object[Binding][property]) {\n          object[Binding][property] = new Set();\n        }\n\n        // let bindIndex = object[Binding][property].length;\n\n        if (options.children) {\n          var original = callback;\n          callback = function callback() {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            var v = args[0];\n            var subDebind = object[SubBinding].get(original);\n            if (subDebind) {\n              object[SubBinding][\"delete\"](original);\n              subDebind();\n            }\n            if (_typeof(v) !== 'object') {\n              original.apply(void 0, args);\n              return;\n            }\n            var vv = Bindable.make(v);\n            if (Bindable.isBindable(vv)) {\n              object[SubBinding].set(original, vv.bindTo(function () {\n                for (var _len2 = arguments.length, subArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  subArgs[_key2] = arguments[_key2];\n                }\n                return original.apply(void 0, args.concat(subArgs));\n              }, Object.assign({}, options, {\n                children: false\n              })));\n            }\n            original.apply(void 0, args);\n          };\n        }\n        object[Binding][property].add(callback);\n        if (!('now' in options) || options.now) {\n          callback(object[property], property, object, false);\n        }\n        var debinder = function debinder() {\n          var subDebind = object[SubBinding].get(callback);\n          if (subDebind) {\n            object[SubBinding][\"delete\"](callback);\n            subDebind();\n          }\n          if (!object[Binding][property]) {\n            return;\n          }\n          if (!object[Binding][property].has(callback)) {\n            return;\n          }\n          object[Binding][property][\"delete\"](callback);\n        };\n        if (options.removeWith && options.removeWith instanceof View) {\n          options.removeWith.onRemove(function () {\n            return debinder;\n          });\n        }\n        return debinder;\n      };\n      Object.defineProperty(object, 'bindTo', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: bindTo\n      });\n      var ___before = function ___before(callback) {\n        var beforeIndex = object[Before].length;\n        object[Before].push(callback);\n        var cleaned = false;\n        return function () {\n          if (cleaned) {\n            return;\n          }\n          cleaned = true;\n          delete object[Before][beforeIndex];\n        };\n      };\n      var ___after = function ___after(callback) {\n        var afterIndex = object[After].length;\n        object[After].push(callback);\n        var cleaned = false;\n        return function () {\n          if (cleaned) {\n            return;\n          }\n          cleaned = true;\n          delete object[After][afterIndex];\n        };\n      };\n      Object.defineProperty(object, BindChain, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: function value(path, callback) {\n          var parts = path.split('.');\n          var node = parts.shift();\n          var subParts = parts.slice(0);\n          var debind = [];\n          debind.push(object.bindTo(node, function (v, k, t, d) {\n            var rest = subParts.join('.');\n            if (subParts.length === 0) {\n              callback(v, k, t, d);\n              return;\n            }\n            if (v === undefined) {\n              v = t[k] = _this.make({});\n            }\n            debind = debind.concat(v[BindChain](rest, callback));\n          }));\n          return function () {\n            return debind.forEach(function (x) {\n              return x();\n            });\n          };\n        }\n      });\n      Object.defineProperty(object, '___before', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: ___before\n      });\n      Object.defineProperty(object, '___after', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: ___after\n      });\n      var isBound = function isBound() {\n        for (var i in object[BindingAll]) {\n          if (object[BindingAll][i]) {\n            return true;\n          }\n        }\n        for (var _i in object[Binding]) {\n          var _iterator = _createForOfIteratorHelper(object[Binding][_i]),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var callback = _step.value;\n              if (callback) {\n                return true;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n        return false;\n      };\n      Object.defineProperty(object, 'isBound', {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: isBound\n      });\n      var _loop = function _loop(i) {\n        if (object[i] && object[i] instanceof Object && !object[i] instanceof Promise) {\n          if (!excludedClasses.filter(function (excludeClass) {\n            return object[i] instanceof excludeClass;\n          }).length && Object.isExtensible(object[i]) && !Object.isSealed(object[i])) {\n            object[i] = Bindable.make(object[i]);\n          }\n        }\n      };\n      for (var i in object) {\n        _loop(i);\n      }\n      var set = function set(target, key, value) {\n        if (wrapped.has(key)) {\n          wrapped[\"delete\"](key);\n        }\n        if (key === Original) {\n          return true;\n        }\n        var onDeck = object[Deck];\n\n        // if(onDeck[key] !== undefined && onDeck[key] === value)\n        if (key in onDeck && onDeck[key] === value) {\n          return true;\n        }\n        if (key.slice && key.slice(-3) === '___') {\n          return true;\n        }\n        if (target[key] === value || typeof value === 'number' && isNaN(onDeck[key]) && isNaN(value)) {\n          return true;\n        }\n        if (value && value instanceof Object) {\n          if (!excludedClasses.filter(function (x) {\n            return object instanceof x;\n          }).length && Object.isExtensible(object) && !Object.isSealed(object)) {\n            if (!object[NoGetters]) {}\n            value = Bindable.make(value);\n          }\n        }\n        onDeck[key] = value;\n        for (var _i2 in object[BindingAll]) {\n          if (!object[BindingAll][_i2]) {\n            continue;\n          }\n          object[BindingAll][_i2](value, key, target, false);\n        }\n        var stop = false;\n        if (key in object[Binding]) {\n          var _iterator2 = _createForOfIteratorHelper(object[Binding][key]),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var callback = _step2.value;\n              if (callback(value, key, target, false, target[key]) === false) {\n                stop = true;\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n        delete onDeck[key];\n        if (!stop) {\n          var descriptor = Object.getOwnPropertyDescriptor(target, key);\n          var excluded = target instanceof File && key == 'lastModifiedDate';\n          if (!excluded && (!descriptor || descriptor.writable) && target[key] === value) {\n            target[key] = value;\n          }\n        }\n        var result = Reflect.set(target, key, value);\n        if (Array.isArray(target) && object[Binding]['length']) {\n          for (var _i3 in object[Binding]['length']) {\n            var _callback = object[Binding]['length'][_i3];\n            _callback(target.length, 'length', target, false, target.length);\n          }\n        }\n        return result;\n      };\n      var deleteProperty = function deleteProperty(target, key) {\n        var onDeck = object[Deck];\n        if (onDeck[key] !== undefined) {\n          return true;\n        }\n        if (!(key in target)) {\n          return true;\n        }\n        if (descriptors.has(key)) {\n          var descriptor = descriptors.get(key);\n          if (descriptor && !descriptor.configurable) {\n            return false;\n          }\n          descriptors[\"delete\"](key);\n        }\n        onDeck[key] = null;\n        if (wrapped.has(key)) {\n          wrapped[\"delete\"](key);\n        }\n        for (var _i4 in object[BindingAll]) {\n          object[BindingAll][_i4](undefined, key, target, true, target[key]);\n        }\n        if (key in object[Binding]) {\n          var _iterator3 = _createForOfIteratorHelper(object[Binding][key]),\n            _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              var binding = _step3.value;\n              binding(undefined, key, target, true, target[key]);\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n        }\n        delete onDeck[key];\n        delete target[key];\n        return true;\n      };\n      var construct = function construct(target, args) {\n        var key = 'constructor';\n        for (var _i5 in target[Before]) {\n          target[Before][_i5](target, key, object[Stack], undefined, args);\n        }\n        var instance = Bindable.make(_construct(target[Original], _toConsumableArray(args)));\n        for (var _i6 in target[After]) {\n          target[After][_i6](target, key, object[Stack], instance, args);\n        }\n        return instance;\n      };\n      var descriptors = object[Descriptors];\n      var wrapped = object[Wrapped];\n      var stack = object[Stack];\n      var get = function get(target, key) {\n        if (wrapped.has(key)) {\n          return wrapped.get(key);\n        }\n        if (key === Ref || key === Original || key === 'apply' || key === 'isBound' || key === 'bindTo' || key === '__proto__' || key === 'constructor') {\n          return object[key];\n        }\n        var descriptor;\n        if (descriptors.has(key)) {\n          descriptor = descriptors.get(key);\n        } else {\n          descriptor = Object.getOwnPropertyDescriptor(object, key);\n          descriptors.set(key, descriptor);\n        }\n        if (descriptor && !descriptor.configurable && !descriptor.writable) {\n          return object[key];\n        }\n        if (OnAllGet in object) {\n          return object[OnAllGet](key);\n        }\n        if (OnGet in object && !(key in object)) {\n          return object[OnGet](key);\n        }\n        if (descriptor && !descriptor.configurable && !descriptor.writable) {\n          wrapped.set(key, object[key]);\n          return object[key];\n        }\n        if (typeof object[key] === 'function') {\n          if (Names in object[key]) {\n            return object[key];\n          }\n          Object.defineProperty(object[Unwrapped], key, {\n            configurable: false,\n            enumerable: false,\n            writable: true,\n            value: object[key]\n          });\n          var prototype = Object.getPrototypeOf(object);\n          var isMethod = prototype[key] === object[key];\n          var objRef = typeof Promise === 'function' && object instanceof Promise || typeof Map === 'function' && object instanceof Map || typeof Set === 'function' && object instanceof Set || typeof MapIterator === 'function' && object.prototype === MapIterator || typeof SetIterator === 'function' && object.prototype === SetIterator || typeof SetIterator === 'function' && object.prototype === SetIterator || typeof WeakMap === 'function' && object instanceof WeakMap || typeof WeakSet === 'function' && object instanceof WeakSet || typeof Date === 'function' && object instanceof Date || typeof TypedArray === 'function' && object instanceof TypedArray || typeof ArrayBuffer === 'function' && object instanceof ArrayBuffer || typeof EventTarget === 'function' && object instanceof EventTarget || typeof ResizeObserver === 'function' && object instanceof ResizeObserver || typeof MutationObserver === 'function' && object instanceof MutationObserver || typeof PerformanceObserver === 'function' && object instanceof PerformanceObserver || typeof IntersectionObserver === 'function' && object instanceof IntersectionObserver || typeof object[Symbol.iterator] === 'function' && key === 'next' ? object : object[Ref];\n          var wrappedMethod = function wrappedMethod() {\n            object[Executing] = key;\n            stack.unshift(key);\n            for (var _len3 = arguments.length, providedArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              providedArgs[_key3] = arguments[_key3];\n            }\n            var _iterator4 = _createForOfIteratorHelper(object[Before]),\n              _step4;\n            try {\n              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                var beforeCallback = _step4.value;\n                beforeCallback(object, key, stack, object, providedArgs);\n              }\n            } catch (err) {\n              _iterator4.e(err);\n            } finally {\n              _iterator4.f();\n            }\n            var ret;\n            if (new.target) {\n              ret = _construct(object[Unwrapped][key], providedArgs);\n            } else {\n              var func = object[Unwrapped][key];\n              if (isMethod) {\n                ret = func.apply(objRef || object, providedArgs);\n              } else {\n                ret = func.apply(void 0, providedArgs);\n              }\n            }\n            var _iterator5 = _createForOfIteratorHelper(object[After]),\n              _step5;\n            try {\n              for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                var afterCallback = _step5.value;\n                afterCallback(object, key, stack, object, providedArgs);\n              }\n            } catch (err) {\n              _iterator5.e(err);\n            } finally {\n              _iterator5.f();\n            }\n            object[Executing] = null;\n            stack.shift();\n            return ret;\n          };\n          wrappedMethod[Names] = wrappedMethod[Names] || new WeakMap();\n          wrappedMethod[Names].set(object, key);\n          wrappedMethod[OnAllGet] = function (key) {\n            var selfName = wrappedMethod[Names].get(object);\n            return object[selfName][key];\n          };\n          var result = Bindable.make(wrappedMethod);\n          wrapped.set(key, result);\n          return result;\n        }\n        return object[key];\n      };\n      var getPrototypeOf = function getPrototypeOf(target) {\n        if (GetProto in object) {\n          return object[GetProto];\n        }\n        return Reflect.getPrototypeOf(target);\n      };\n      var handler = {\n        get: get,\n        set: set,\n        construct: construct,\n        getPrototypeOf: getPrototypeOf,\n        deleteProperty: deleteProperty\n      };\n      if (object[NoGetters]) {\n        delete handler.get;\n      }\n      Object.defineProperty(object, Ref, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: new Proxy(object, handler)\n      });\n      return object[Ref];\n    }\n  }, {\n    key: \"clearBindings\",\n    value: function clearBindings(object) {\n      var clearObj = function clearObj(o) {\n        return Object.keys(o).map(function (k) {\n          return delete o[k];\n        });\n      };\n      var maps = function maps(func) {\n        return function () {\n          for (var _len4 = arguments.length, os = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            os[_key4] = arguments[_key4];\n          }\n          return os.map(func);\n        };\n      };\n      var clearObjs = maps(clearObj);\n      clearObjs(object[Wrapped], object[Binding], object[BindingAll], object[After], object[Before]);\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(object, path) {\n      var owner = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var node;\n      var pathParts = path.split('.');\n      var top = pathParts[0];\n      while (pathParts.length) {\n        if (owner && pathParts.length === 1) {\n          var obj = this.make(object);\n          return [obj, pathParts.shift(), top];\n        }\n        node = pathParts.shift();\n        if (!node in object || !object[node] || !(object[node] instanceof Object)) {\n          object[node] = {};\n        }\n        object = this.make(object[node]);\n      }\n      return [this.make(object), node, top];\n    }\n  }, {\n    key: \"wrapDelayCallback\",\n    value: function wrapDelayCallback(callback, delay) {\n      return function () {\n        for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n          args[_key5] = arguments[_key5];\n        }\n        return setTimeout(function () {\n          return callback.apply(void 0, args);\n        }, delay);\n      };\n    }\n  }, {\n    key: \"wrapThrottleCallback\",\n    value: function wrapThrottleCallback(callback, throttle) {\n      var _this2 = this;\n      this.throttles.set(callback, false);\n      return function () {\n        if (_this2.throttles.get(callback, true)) {\n          return;\n        }\n        callback.apply(void 0, arguments);\n        _this2.throttles.set(callback, true);\n        setTimeout(function () {\n          _this2.throttles.set(callback, false);\n        }, throttle);\n      };\n    }\n  }, {\n    key: \"wrapWaitCallback\",\n    value: function wrapWaitCallback(callback, wait) {\n      var _this3 = this;\n      return function () {\n        for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n          args[_key6] = arguments[_key6];\n        }\n        var waiter;\n        if (waiter = _this3.waiters.get(callback)) {\n          _this3.waiters[\"delete\"](callback);\n          clearTimeout(waiter);\n        }\n        waiter = setTimeout(function () {\n          return callback.apply(void 0, args);\n        }, wait);\n        _this3.waiters.set(callback, waiter);\n      };\n    }\n  }, {\n    key: \"wrapFrameCallback\",\n    value: function wrapFrameCallback(callback, frames) {\n      return function () {\n        for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n          args[_key7] = arguments[_key7];\n        }\n        requestAnimationFrame(function () {\n          return callback.apply(void 0, args);\n        });\n      };\n    }\n  }, {\n    key: \"wrapIdleCallback\",\n    value: function wrapIdleCallback(callback) {\n      return function () {\n        for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n          args[_key8] = arguments[_key8];\n        }\n        // Compatibility for Safari 08/2020\n        var req = window.requestIdleCallback || requestAnimationFrame;\n        req(function () {\n          return callback.apply(void 0, args);\n        });\n      };\n    }\n  }]);\n  return Bindable;\n}();\nexports.Bindable = Bindable;\n_defineProperty(Bindable, \"waiters\", new WeakMap());\n_defineProperty(Bindable, \"throttles\", new WeakMap());\nObject.defineProperty(Bindable, 'OnGet', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: OnGet\n});\nObject.defineProperty(Bindable, 'NoGetters', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: NoGetters\n});\nObject.defineProperty(Bindable, 'GetProto', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: GetProto\n});\nObject.defineProperty(Bindable, 'OnAllGet', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: OnAllGet\n});\n  })();\n});","\nrequire.register(\"curvature/base/Cache.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Cache = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar Cache = /*#__PURE__*/function () {\n  function Cache() {\n    _classCallCheck(this, Cache);\n  }\n  _createClass(Cache, null, [{\n    key: \"store\",\n    value: function store(key, value, expiry) {\n      var bucket = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'standard';\n      var expiration = 0;\n      if (expiry) {\n        expiration = expiry * 1000 + new Date().getTime();\n      }\n      if (!this.buckets) {\n        this.buckets = new Map();\n      }\n      if (!this.buckets.has(bucket)) {\n        this.buckets.set(bucket, new Map());\n      }\n      var eventEnd = new CustomEvent('cvCacheStore', {\n        cancelable: true,\n        detail: {\n          key: key,\n          value: value,\n          expiry: expiry,\n          bucket: bucket\n        }\n      });\n      if (document.dispatchEvent(eventEnd)) {\n        this.buckets.get(bucket).set(key, {\n          value: value,\n          expiration: expiration\n        });\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(key) {\n      var defaultvalue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var bucket = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'standard';\n      var eventEnd = new CustomEvent('cvCacheLoad', {\n        cancelable: true,\n        detail: {\n          key: key,\n          defaultvalue: defaultvalue,\n          bucket: bucket\n        }\n      });\n      if (!document.dispatchEvent(eventEnd)) {\n        return defaultvalue;\n      }\n      if (this.buckets && this.buckets.has(bucket) && this.buckets.get(bucket).has(key)) {\n        var entry = this.buckets.get(bucket).get(key);\n        // console.log(this.bucket[bucket][key].expiration, (new Date).getTime());\n        if (entry.expiration === 0 || entry.expiration > new Date().getTime()) {\n          return this.buckets.get(bucket).get(key).value;\n        }\n      }\n      return defaultvalue;\n    }\n  }]);\n  return Cache;\n}();\nexports.Cache = Cache;\n  })();\n});","\nrequire.register(\"curvature/base/Config.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Config = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar AppConfig = {};\nvar _require = require;\ntry {\n  AppConfig = _require('/Config').Config || {};\n} catch (error) {\n  globalThis.devMode === true && console.error(error);\n}\nvar Config = /*#__PURE__*/function () {\n  function Config() {\n    _classCallCheck(this, Config);\n  }\n  _createClass(Config, null, [{\n    key: \"get\",\n    value: function get(name) {\n      return this.configs[name];\n    }\n  }, {\n    key: \"set\",\n    value: function set(name, value) {\n      this.configs[name] = value;\n      return this;\n    }\n  }, {\n    key: \"dump\",\n    value: function dump() {\n      return this.configs;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      for (var _len = arguments.length, configs = new Array(_len), _key = 0; _key < _len; _key++) {\n        configs[_key] = arguments[_key];\n      }\n      for (var i in configs) {\n        var config = configs[i];\n        if (typeof config === 'string') {\n          config = JSON.parse(config);\n        }\n        for (var name in config) {\n          var value = config[name];\n          return this.configs[name] = value;\n        }\n      }\n      return this;\n    }\n  }]);\n  return Config;\n}();\nexports.Config = Config;\nObject.defineProperty(Config, 'configs', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: AppConfig\n});\n  })();\n});","\nrequire.register(\"curvature/base/Dom.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Dom = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar traversals = 0;\nvar Dom = /*#__PURE__*/function () {\n  function Dom() {\n    _classCallCheck(this, Dom);\n  }\n  _createClass(Dom, null, [{\n    key: \"mapTags\",\n    value: function mapTags(doc, selector, callback, startNode, endNode) {\n      var result = [];\n      var started = true;\n      if (startNode) {\n        started = false;\n      }\n      var ended = false;\n      var treeWalker = document.createTreeWalker(doc, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT, {\n        acceptNode: function acceptNode(node, walker) {\n          if (!started) {\n            if (node === startNode) {\n              started = true;\n            } else {\n              return NodeFilter.FILTER_SKIP;\n            }\n          }\n          if (endNode && node === endNode) {\n            ended = true;\n          }\n          if (ended) {\n            return NodeFilter.FILTER_SKIP;\n          }\n          if (selector) {\n            if (node instanceof Element) {\n              if (node.matches(selector)) {\n                return NodeFilter.FILTER_ACCEPT;\n              }\n            }\n            return NodeFilter.FILTER_SKIP;\n          }\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, false);\n      var traversal = traversals++;\n      while (treeWalker.nextNode()) {\n        result.push(callback(treeWalker.currentNode, treeWalker));\n      }\n      return result;\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(doc, event) {\n      doc.dispatchEvent(event);\n      Dom.mapTags(doc, false, function (node) {\n        node.dispatchEvent(event);\n      });\n    }\n  }]);\n  return Dom;\n}();\nexports.Dom = Dom;\n  })();\n});","\nrequire.register(\"curvature/base/Mixin.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mixin = void 0;\nvar _Bindable = require(\"./Bindable\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar Constructor = Symbol('constructor');\nvar MixinList = Symbol('mixinList');\nvar Mixin = /*#__PURE__*/function () {\n  function Mixin() {\n    _classCallCheck(this, Mixin);\n  }\n  _createClass(Mixin, null, [{\n    key: \"from\",\n    value: function from(baseClass) {\n      for (var _len = arguments.length, mixins = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        mixins[_key - 1] = arguments[_key];\n      }\n      var newClass = /*#__PURE__*/function (_baseClass) {\n        _inherits(newClass, _baseClass);\n        var _super = _createSuper(newClass);\n        function newClass() {\n          var _this;\n          _classCallCheck(this, newClass);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          var instance = baseClass.constructor ? _this = _super.call.apply(_super, [this].concat(args)) : null;\n          var _iterator = _createForOfIteratorHelper(mixins),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var mixin = _step.value;\n              if (mixin[Mixin.Constructor]) {\n                mixin[Mixin.Constructor].apply(_assertThisInitialized(_this));\n              }\n              switch (_typeof(mixin)) {\n                case 'function':\n                  Mixin.mixClass(mixin, newClass);\n                  break;\n                case 'object':\n                  Mixin.mixObject(mixin, _assertThisInitialized(_this));\n                  break;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          return _possibleConstructorReturn(_this, instance);\n        }\n        return _createClass(newClass);\n      }(baseClass);\n      return newClass;\n    }\n  }, {\n    key: \"make\",\n    value: function make() {\n      for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        classes[_key3] = arguments[_key3];\n      }\n      var base = classes.pop();\n      return Mixin.to.apply(Mixin, [base].concat(classes));\n    }\n  }, {\n    key: \"to\",\n    value: function to(base) {\n      var descriptors = {};\n      for (var _len4 = arguments.length, mixins = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        mixins[_key4 - 1] = arguments[_key4];\n      }\n      mixins.map(function (mixin) {\n        switch (_typeof(mixin)) {\n          case 'object':\n            Object.assign(descriptors, Object.getOwnPropertyDescriptors(mixin));\n            break;\n          case 'function':\n            Object.assign(descriptors, Object.getOwnPropertyDescriptors(mixin.prototype));\n            break;\n        }\n        delete descriptors.constructor;\n        Object.defineProperties(base.prototype, descriptors);\n      });\n    }\n  }, {\n    key: \"with\",\n    value: function _with() {\n      for (var _len5 = arguments.length, mixins = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        mixins[_key5] = arguments[_key5];\n      }\n      return this.from.apply(this, [/*#__PURE__*/function () {\n        function _class() {\n          _classCallCheck(this, _class);\n        }\n        return _createClass(_class);\n      }()].concat(mixins));\n    }\n  }, {\n    key: \"mixObject\",\n    value: function mixObject(mixin, instance) {\n      var _iterator2 = _createForOfIteratorHelper(Object.getOwnPropertyNames(mixin)),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var func = _step2.value;\n          if (typeof mixin[func] === 'function') {\n            instance[func] = mixin[func].bind(instance);\n            continue;\n          }\n          instance[func] = mixin[func];\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var _iterator3 = _createForOfIteratorHelper(Object.getOwnPropertySymbols(mixin)),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _func = _step3.value;\n          if (typeof mixin[_func] === 'function') {\n            instance[_func] = mixin[_func].bind(instance);\n            continue;\n          }\n          instance[_func] = mixin[_func];\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"mixClass\",\n    value: function mixClass(cls, newClass) {\n      var _iterator4 = _createForOfIteratorHelper(Object.getOwnPropertyNames(cls.prototype)),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var func = _step4.value;\n          if (['name', 'prototype', 'length'].includes(func)) {\n            continue;\n          }\n          var descriptor = Object.getOwnPropertyDescriptor(newClass, func);\n          if (descriptor && !descriptor.writable) {\n            continue;\n          }\n          if (typeof cls[func] !== 'function') {\n            newClass.prototype[func] = cls.prototype[func];\n            continue;\n          }\n          newClass.prototype[func] = cls.prototype[func].bind(newClass.prototype);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      var _iterator5 = _createForOfIteratorHelper(Object.getOwnPropertySymbols(cls.prototype)),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var _func2 = _step5.value;\n          if (typeof cls[_func2] !== 'function') {\n            newClass.prototype[_func2] = cls.prototype[_func2];\n            continue;\n          }\n          newClass.prototype[_func2] = cls.prototype[_func2].bind(newClass.prototype);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n      var _iterator6 = _createForOfIteratorHelper(Object.getOwnPropertyNames(cls)),\n        _step6;\n      try {\n        var _loop = function _loop() {\n          var func = _step6.value;\n          if (['name', 'prototype', 'length'].includes(func)) {\n            return \"continue\";\n          }\n          var descriptor = Object.getOwnPropertyDescriptor(newClass, func);\n          if (descriptor && !descriptor.writable) {\n            return \"continue\";\n          }\n          if (typeof cls[func] !== 'function') {\n            newClass[func] = cls[func];\n            return \"continue\";\n          }\n          var prev = newClass[func] || false;\n          var meth = cls[func].bind(newClass);\n          newClass[func] = function () {\n            prev && prev.apply(void 0, arguments);\n            return meth.apply(void 0, arguments);\n          };\n        };\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _ret = _loop();\n          if (_ret === \"continue\") continue;\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n      var _iterator7 = _createForOfIteratorHelper(Object.getOwnPropertySymbols(cls)),\n        _step7;\n      try {\n        var _loop2 = function _loop2() {\n          var func = _step7.value;\n          if (typeof cls[func] !== 'function') {\n            newClass.prototype[func] = cls[func];\n            return \"continue\";\n          }\n          var prev = newClass[func] || false;\n          var meth = cls[func].bind(newClass);\n          newClass[func] = function () {\n            prev && prev.apply(void 0, arguments);\n            return meth.apply(void 0, arguments);\n          };\n        };\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var _ret2 = _loop2();\n          if (_ret2 === \"continue\") continue;\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n    }\n  }, {\n    key: \"mix\",\n    value: function mix(mixinTo) {\n      var constructors = [];\n      var allStatic = {};\n      var allInstance = {};\n      var mixable = _Bindable.Bindable.makeBindable(mixinTo);\n      var _loop3 = function _loop3(base) {\n        var instanceNames = Object.getOwnPropertyNames(base.prototype);\n        var staticNames = Object.getOwnPropertyNames(base);\n        var prefix = /^(before|after)__(.+)/;\n        var _iterator8 = _createForOfIteratorHelper(staticNames),\n          _step8;\n        try {\n          var _loop5 = function _loop5() {\n            var methodName = _step8.value;\n            var match = methodName.match(prefix);\n            if (match) {\n              switch (match[1]) {\n                case 'before':\n                  mixable.___before(function (t, e, s, o, a) {\n                    if (e !== match[2]) {\n                      return;\n                    }\n                    var method = base[methodName].bind(o);\n                    return method.apply(void 0, _toConsumableArray(a));\n                  });\n                  break;\n                case 'after':\n                  mixable.___after(function (t, e, s, o, a) {\n                    if (e !== match[2]) {\n                      return;\n                    }\n                    var method = base[methodName].bind(o);\n                    return method.apply(void 0, _toConsumableArray(a));\n                  });\n                  break;\n              }\n              return \"continue\";\n            }\n            if (allStatic[methodName]) {\n              return \"continue\";\n            }\n            if (typeof base[methodName] !== 'function') {\n              return \"continue\";\n            }\n            allStatic[methodName] = base[methodName];\n          };\n          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n            var _ret3 = _loop5();\n            if (_ret3 === \"continue\") continue;\n          }\n        } catch (err) {\n          _iterator8.e(err);\n        } finally {\n          _iterator8.f();\n        }\n        var _iterator9 = _createForOfIteratorHelper(instanceNames),\n          _step9;\n        try {\n          var _loop6 = function _loop6() {\n            var methodName = _step9.value;\n            var match = methodName.match(prefix);\n            if (match) {\n              switch (match[1]) {\n                case 'before':\n                  mixable.___before(function (t, e, s, o, a) {\n                    if (e !== match[2]) {\n                      return;\n                    }\n                    var method = base.prototype[methodName].bind(o);\n                    return method.apply(void 0, _toConsumableArray(a));\n                  });\n                  break;\n                case 'after':\n                  mixable.___after(function (t, e, s, o, a) {\n                    if (e !== match[2]) {\n                      return;\n                    }\n                    var method = base.prototype[methodName].bind(o);\n                    return method.apply(void 0, _toConsumableArray(a));\n                  });\n                  break;\n              }\n              return \"continue\";\n            }\n            if (allInstance[methodName]) {\n              return \"continue\";\n            }\n            if (typeof base.prototype[methodName] !== 'function') {\n              return \"continue\";\n            }\n            allInstance[methodName] = base.prototype[methodName];\n          };\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var _ret4 = _loop6();\n            if (_ret4 === \"continue\") continue;\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n      };\n      for (var base = this; base && base.prototype; base = Object.getPrototypeOf(base)) {\n        _loop3(base);\n      }\n      for (var methodName in allStatic) {\n        mixinTo[methodName] = allStatic[methodName].bind(mixinTo);\n      }\n      var _loop4 = function _loop4(_methodName) {\n        mixinTo.prototype[_methodName] = function () {\n          for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n            args[_key6] = arguments[_key6];\n          }\n          return allInstance[_methodName].apply(this, args);\n        };\n      };\n      for (var _methodName in allInstance) {\n        _loop4(_methodName);\n      }\n      return mixable;\n    }\n  }]);\n  return Mixin;\n}();\nexports.Mixin = Mixin;\nMixin.Constructor = Constructor;\n  })();\n});","\nrequire.register(\"curvature/base/Router.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Router = void 0;\nvar _View = require(\"./View\");\nvar _Cache = require(\"./Cache\");\nvar _Config = require(\"./Config\");\nvar _Routes = require(\"./Routes\");\nvar _globalThis$CustomEve;\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar NotFoundError = Symbol('NotFound');\nvar InternalError = Symbol('Internal');\nglobalThis.CustomEvent = (_globalThis$CustomEve = globalThis.CustomEvent) !== null && _globalThis$CustomEve !== void 0 ? _globalThis$CustomEve : globalThis.Event;\nvar Router = /*#__PURE__*/function () {\n  function Router() {\n    _classCallCheck(this, Router);\n  }\n  _createClass(Router, null, [{\n    key: \"wait\",\n    value: function wait(view) {\n      var _this = this;\n      var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'DOMContentLoaded';\n      var node = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n      node.addEventListener(event, function () {\n        _this.listen(view);\n      });\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(listener) {\n      var _this2 = this;\n      var routes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.listener = listener || this.listener;\n      this.routes = routes || listener.routes;\n      Object.assign(this.query, this.queryOver({}));\n      var listen = function listen(event) {\n        event.preventDefault();\n        if (event.state && 'routedId' in event.state) {\n          if (event.state.routedId <= _this2.routeCount) {\n            _this2.history.splice(event.state.routedId);\n            _this2.routeCount = event.state.routedId;\n          } else if (event.state.routedId > _this2.routeCount) {\n            _this2.history.push(event.state.prev);\n            _this2.routeCount = event.state.routedId;\n          }\n          _this2.state = event.state;\n        } else {\n          if (_this2.prevPath !== null && _this2.prevPath !== location.pathname) {\n            _this2.history.push(_this2.prevPath);\n          }\n        }\n        if (location.origin !== 'null') {\n          _this2.match(location.pathname, listener);\n        } else {\n          _this2.match(_this2.nextPath, listener);\n        }\n      };\n      window.addEventListener('cvUrlChanged', listen);\n      window.addEventListener('popstate', listen);\n      var route = location.origin !== 'null' ? location.pathname + location.search : false;\n      if (location.origin && location.hash) {\n        route += location.hash;\n      }\n      var state = {\n        routedId: this.routeCount,\n        url: location.pathname,\n        prev: this.prevPath\n      };\n      if (location.origin !== 'null') {\n        history.replaceState(state, null, location.pathname);\n      }\n      this.go(route !== false ? route : '/');\n    }\n  }, {\n    key: \"go\",\n    value: function go(path) {\n      var silent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var configTitle = _Config.Config.get('title');\n      if (configTitle) {\n        document.title = configTitle;\n      }\n      var state = {\n        routedId: this.routeCount,\n        prev: this.prevPath,\n        url: location.pathname\n      };\n      if (silent === -1) {\n        this.match(path, this.listener, true);\n      } else if (location.origin === 'null') {\n        this.nextPath = path;\n      } else if (silent === 2 && location.pathname !== path) {\n        history.replaceState(state, null, path);\n      } else if (location.pathname !== path) {\n        history.pushState(state, null, path);\n      }\n      if (!silent || silent < 0) {\n        if (silent === false) {\n          this.path = null;\n        }\n        if (!silent) {\n          if (path.substring(0, 1) === '#') {\n            window.dispatchEvent(new HashChangeEvent('hashchange'));\n          } else {\n            window.dispatchEvent(new CustomEvent('cvUrlChanged'));\n          }\n        }\n      }\n      this.prevPath = path;\n    }\n  }, {\n    key: \"processRoute\",\n    value: function processRoute(routes, selected, args) {\n      var result = false;\n      if (typeof routes[selected] === 'function') {\n        if (routes[selected].prototype instanceof _View.View) {\n          result = new routes[selected](args);\n        } else {\n          result = routes[selected](args);\n        }\n      } else {\n        result = routes[selected];\n      }\n      return result;\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(error, routes, selected, args, listener, path, prev, forceRefresh) {\n      console.error(error);\n      if (typeof document !== 'undefined') {\n        document.dispatchEvent(new CustomEvent('cvRouteError', {\n          detail: {\n            error: error,\n            path: path,\n            prev: prev,\n            view: listener,\n            routes: routes,\n            selected: selected\n          }\n        }));\n      }\n      var result = globalThis['devMode'] ? 'Unexpected error: ' + String(error) : 'Unexpected error.';\n      if (routes[InternalError]) {\n        args[InternalError] = error;\n        result = this.processRoute(routes, InternalError, args);\n      }\n      this.update(listener, path, result, routes, selected, args, forceRefresh);\n    }\n  }, {\n    key: \"match\",\n    value: function match(path, listener) {\n      var _this3 = this;\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var event = null,\n        request = null,\n        forceRefresh = false;\n      if (options === true) {\n        forceRefresh = options;\n      }\n      if (options && _typeof(options) === 'object') {\n        forceRefresh = options.forceRefresh;\n        event = options.event;\n      }\n      if (typeof document !== 'undefined' && this.path === path && !forceRefresh) {\n        return;\n      }\n      var origin = 'http://example.com';\n      if (typeof document !== 'undefined') {\n        origin = location.origin !== \"null\" ? location.origin : origin;\n        this.queryString = location.search;\n      }\n      var url = new URL(path, origin);\n      path = this.path = url.pathname;\n      if (typeof document === 'undefined') {\n        this.queryString = url.search;\n      }\n      var prev = this.prevPath;\n      var current = listener && listener.args ? listener.args.content : null;\n      var routes = this.routes || listener && listener.routes || _Routes.Routes.dump();\n      var query = new URLSearchParams(this.queryString);\n      if (event && event.request) {\n        this.request = event.request;\n      }\n      for (var key in Object.keys(this.query)) {\n        delete this.query[key];\n      }\n      var _iterator = _createForOfIteratorHelper(query),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            _key = _step$value[0],\n            value = _step$value[1];\n          this.query[_key] = value;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var args = {},\n        selected = false,\n        result = '';\n      if (path.substring(0, 1) === '/') {\n        path = path.substring(1);\n      }\n      path = path.split('/');\n      for (var i in this.query) {\n        args[i] = this.query[i];\n      }\n      L1: for (var _i in routes) {\n        var route = _i.split('/');\n        if (route.length < path.length && route[route.length - 1] !== '*') {\n          continue;\n        }\n        L2: for (var j in route) {\n          if (route[j].substr(0, 1) == '%') {\n            var argName = null;\n            var groups = /^%(\\w+)\\??/.exec(route[j]);\n            if (groups && groups[1]) {\n              argName = groups[1];\n            }\n            if (!argName) {\n              throw new Error(\"\".concat(route[j], \" is not a valid argument segment in route \\\"\").concat(_i, \"\\\"\"));\n            }\n            if (!path[j]) {\n              if (route[j].substr(route[j].length - 1, 1) == '?') {\n                args[argName] = '';\n              } else {\n                continue L1;\n              }\n            } else {\n              args[argName] = path[j];\n            }\n          } else if (route[j] !== '*' && path[j] !== route[j]) {\n            continue L1;\n          }\n        }\n        selected = _i;\n        result = routes[_i];\n        if (route[route.length - 1] === '*') {\n          args.pathparts = path.slice(route.length - 1);\n        }\n        break;\n      }\n      var eventStart = new CustomEvent('cvRouteStart', {\n        cancelable: true,\n        detail: {\n          path: path,\n          prev: prev,\n          root: listener,\n          selected: selected,\n          routes: routes\n        }\n      });\n      if (typeof document !== 'undefined') {\n        if (!document.dispatchEvent(eventStart)) {\n          return;\n        }\n      }\n      if (!forceRefresh && listener && current && result instanceof Object && current instanceof result && !(result instanceof Promise) && current.update(args)) {\n        listener.args.content = current;\n        return true;\n      }\n      if (!(selected in routes)) {\n        routes[selected] = routes[NotFoundError];\n      }\n      try {\n        result = this.processRoute(routes, selected, args);\n        if (result === false) {\n          result = this.processRoute(routes, NotFoundError, args);\n        }\n        if (!(result instanceof Promise)) {\n          result = Promise.resolve(result);\n\n          // return this.update(\n          // \tlistener\n          // \t, path\n          // \t, result\n          // \t, routes\n          // \t, selected\n          // \t, args\n          // \t, forceRefresh\n          // );\n        }\n\n        if (typeof document === 'undefined') {\n          return result;\n        }\n        return result.then(function (realResult) {\n          _this3.update(listener, path, realResult, routes, selected, args, forceRefresh);\n        })[\"catch\"](function (error) {\n          _this3.handleError(error, routes, selected, args, listener, path, prev, forceRefresh);\n        });\n      } catch (error) {\n        this.handleError(error, routes, selected, args, listener, path, prev, forceRefresh);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(listener, path, result, routes, selected, args, forceRefresh) {\n      if (!listener) {\n        return;\n      }\n      var prev = this.prevPath;\n      var event = new CustomEvent('cvRoute', {\n        cancelable: true,\n        detail: {\n          result: result,\n          path: path,\n          prev: prev,\n          view: listener,\n          routes: routes,\n          selected: selected\n        }\n      });\n      if (result !== false) {\n        if (listener.args.content instanceof _View.View) {\n          listener.args.content.pause(true);\n          listener.args.content.remove();\n        }\n        if (document.dispatchEvent(event)) {\n          listener.args.content = result;\n        }\n        if (result instanceof _View.View) {\n          result.pause(false);\n          result.update(args, forceRefresh);\n        }\n      }\n      var eventEnd = new CustomEvent('cvRouteEnd', {\n        cancelable: true,\n        detail: {\n          result: result,\n          path: path,\n          prev: prev,\n          view: listener,\n          routes: routes,\n          selected: selected\n        }\n      });\n      document.dispatchEvent(eventEnd);\n    }\n  }, {\n    key: \"queryOver\",\n    value: function queryOver() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var params = new URLSearchParams(location.search);\n      var finalArgs = {};\n      var query = {};\n      var _iterator2 = _createForOfIteratorHelper(params),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var pair = _step2.value;\n          query[pair[0]] = pair[1];\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      finalArgs = Object.assign(finalArgs, query, args);\n      delete finalArgs['api'];\n      return finalArgs;\n\n      // for(let i in query)\n      // {\n      // \tfinalArgs[i] = query[i];\n      // }\n\n      // for(let i in args)\n      // {\n      // \tfinalArgs[i] = args[i];\n      // }\n    }\n  }, {\n    key: \"queryToString\",\n    value: function queryToString() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var fresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var parts = [],\n        finalArgs = args;\n      if (!fresh) {\n        finalArgs = this.queryOver(args);\n      }\n      for (var i in finalArgs) {\n        if (finalArgs[i] === '') {\n          continue;\n        }\n        parts.push(i + '=' + encodeURIComponent(finalArgs[i]));\n      }\n      return parts.join('&');\n    }\n  }, {\n    key: \"setQuery\",\n    value: function setQuery(name, value, silent) {\n      var args = this.queryOver();\n      args[name] = value;\n      if (value === undefined) {\n        delete args[name];\n      }\n      var queryString = this.queryToString(args, true);\n      this.go(location.pathname + (queryString ? '?' + queryString : '?'), silent);\n    }\n  }]);\n  return Router;\n}();\nexports.Router = Router;\nObject.defineProperty(Router, 'query', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: {}\n});\nObject.defineProperty(Router, 'history', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: []\n});\nObject.defineProperty(Router, 'routeCount', {\n  configurable: false,\n  enumerable: false,\n  writable: true,\n  value: 0\n});\nObject.defineProperty(Router, 'prevPath', {\n  configurable: false,\n  enumerable: false,\n  writable: true,\n  value: null\n});\nObject.defineProperty(Router, 'queryString', {\n  configurable: false,\n  enumerable: false,\n  writable: true,\n  value: null\n});\nObject.defineProperty(Router, 'InternalError', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: InternalError\n});\nObject.defineProperty(Router, 'NotFoundError', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: NotFoundError\n});\n  })();\n});","\nrequire.register(\"curvature/base/Routes.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Routes = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar AppRoutes = {};\nvar _require = require;\nvar imported = false;\nvar runImport = function runImport() {\n  if (imported) {\n    return;\n  }\n  ;\n  try {\n    Object.assign(AppRoutes, _require('Routes').Routes || {});\n  } catch (error) {\n    globalThis.devMode === true && console.warn(error);\n  }\n  imported = true;\n};\nvar Routes = /*#__PURE__*/function () {\n  function Routes() {\n    _classCallCheck(this, Routes);\n  }\n  _createClass(Routes, null, [{\n    key: \"get\",\n    value: function get(name) {\n      runImport();\n      return this.routes[name];\n    }\n  }, {\n    key: \"dump\",\n    value: function dump() {\n      runImport();\n      return this.routes;\n    }\n  }]);\n  return Routes;\n}();\nexports.Routes = Routes;\nObject.defineProperty(Routes, 'routes', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: AppRoutes\n});\n  })();\n});","\nrequire.register(\"curvature/base/RuleSet.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RuleSet = void 0;\nvar _Dom = require(\"./Dom\");\nvar _Tag = require(\"./Tag\");\nvar _View = require(\"./View\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar RuleSet = /*#__PURE__*/function () {\n  function RuleSet() {\n    _classCallCheck(this, RuleSet);\n  }\n  _createClass(RuleSet, [{\n    key: \"add\",\n    value: function add(selector, callback) {\n      this.rules = this.rules || {};\n      this.rules[selector] = this.rules[selector] || [];\n      this.rules[selector].push(callback);\n      return this;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      var doc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      RuleSet.apply(doc, view);\n      for (var selector in this.rules) {\n        for (var i in this.rules[selector]) {\n          var callback = this.rules[selector][i];\n          var wrapped = RuleSet.wrap(doc, callback, view);\n          var nodes = doc.querySelectorAll(selector);\n          var _iterator = _createForOfIteratorHelper(nodes),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var node = _step.value;\n              wrapped(node);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"purge\",\n    value: function purge() {\n      if (!this.rules) {\n        return;\n      }\n      for (var _i = 0, _Object$entries = Object.entries(this.rules); _i < _Object$entries.length; _i++) {\n        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n          k = _Object$entries$_i[0],\n          v = _Object$entries$_i[1];\n        if (!this.rules[k]) {\n          continue;\n        }\n        for (var kk in this.rules[k]) {\n          delete this.rules[k][kk];\n        }\n      }\n    }\n  }], [{\n    key: \"add\",\n    value: function add(selector, callback) {\n      this.globalRules = this.globalRules || {};\n      this.globalRules[selector] = this.globalRules[selector] || [];\n      this.globalRules[selector].push(callback);\n      return this;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      var doc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      for (var selector in this.globalRules) {\n        for (var i in this.globalRules[selector]) {\n          var callback = this.globalRules[selector][i];\n          var wrapped = this.wrap(doc, callback, view);\n          var nodes = doc.querySelectorAll(selector);\n          var _iterator2 = _createForOfIteratorHelper(nodes),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var node = _step2.value;\n              wrapped(node);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"wait\",\n    value: function wait() {\n      var _this = this;\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'DOMContentLoaded';\n      var node = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n      var listener = function (event, node) {\n        return function () {\n          node.removeEventListener(event, listener);\n          return _this.apply();\n        };\n      }(event, node);\n      node.addEventListener(event, listener);\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(doc, originalCallback) {\n      var view = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var callback = originalCallback;\n      if (originalCallback instanceof _View.View || originalCallback && originalCallback.prototype && originalCallback.prototype instanceof _View.View) {\n        callback = function callback() {\n          return originalCallback;\n        };\n      }\n      return function (element) {\n        if (typeof element.___cvApplied___ === 'undefined') {\n          Object.defineProperty(element, '___cvApplied___', {\n            enumerable: false,\n            writable: false,\n            value: new WeakSet()\n          });\n        }\n        if (element.___cvApplied___.has(originalCallback)) {\n          return;\n        }\n        var direct, parentView;\n        if (view) {\n          direct = parentView = view;\n          if (view.viewList) {\n            parentView = view.viewList.parent;\n          }\n        }\n        var tag = new _Tag.Tag(element, parentView, null, undefined, direct);\n        var parent = tag.element.parentNode;\n        var sibling = tag.element.nextSibling;\n        var result = callback(tag);\n        if (result !== false) {\n          element.___cvApplied___.add(originalCallback);\n        }\n        if (result instanceof HTMLElement) {\n          result = new _Tag.Tag(result);\n        }\n        if (result instanceof _Tag.Tag) {\n          if (!result.element.contains(tag.element)) {\n            while (tag.element.firstChild) {\n              result.element.appendChild(tag.element.firstChild);\n            }\n            tag.remove();\n          }\n          if (sibling) {\n            parent.insertBefore(result.element, sibling);\n          } else {\n            parent.appendChild(result.element);\n          }\n        }\n        if (result && result.prototype && result.prototype instanceof _View.View) {\n          result = new result({}, view);\n        }\n        if (result instanceof _View.View) {\n          if (view) {\n            view.cleanup.push(function (r) {\n              return function () {\n                r.remove();\n              };\n            }(result));\n            view.cleanup.push(view.args.bindTo(function (v, k, t) {\n              t[k] = v;\n              result.args[k] = v;\n            }));\n            view.cleanup.push(result.args.bindTo(function (v, k, t, d) {\n              t[k] = v;\n              view.args[k] = v;\n            }));\n          }\n          tag.clear();\n          result.render(tag.element);\n        }\n      };\n    }\n  }]);\n  return RuleSet;\n}();\nexports.RuleSet = RuleSet;\n  })();\n});","\nrequire.register(\"curvature/base/SetMap.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SetMap = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar SetMap = /*#__PURE__*/function () {\n  function SetMap() {\n    _classCallCheck(this, SetMap);\n    _defineProperty(this, \"_map\", new Map());\n  }\n  _createClass(SetMap, [{\n    key: \"has\",\n    value: function has(key) {\n      return this._map.has(key);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this._map.get(key);\n    }\n  }, {\n    key: \"getOne\",\n    value: function getOne(key) {\n      var set = this.get(key);\n      var _iterator = _createForOfIteratorHelper(set),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var entry = _step.value;\n          return entry;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"add\",\n    value: function add(key, value) {\n      var set = this._map.get(key);\n      if (!set) {\n        this._map.set(key, set = new Set());\n      }\n      return set.add(value);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(key, value) {\n      var set = this._map.get(key);\n      if (!set) {\n        return;\n      }\n      var res = set[\"delete\"](value);\n      if (!set.size) {\n        this._map[\"delete\"](key);\n      }\n      return res;\n    }\n  }, {\n    key: \"values\",\n    value: function values() {\n      return _construct(Set, _toConsumableArray(_toConsumableArray(this._map.values()).map(function (set) {\n        return _toConsumableArray(set.values());\n      })));\n    }\n  }]);\n  return SetMap;\n}();\nexports.SetMap = SetMap;\n  })();\n});","\nrequire.register(\"curvature/base/Tag.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tag = void 0;\nvar _Bindable = require(\"./Bindable\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar CurrentStyle = Symbol('CurrentStyle');\nvar styler = function styler(styles) {\n  if (!this.node) {\n    return;\n  }\n  for (var property in styles) {\n    var stringedProperty = String(styles[property]);\n    if (this[CurrentStyle].has(property) && this[CurrentStyle].get(property) === styles[property]) {\n      continue;\n    }\n    if (property[0] === '-') {\n      this.node.style.setProperty(property, stringedProperty);\n    } else {\n      this.node.style[property] = stringedProperty;\n    }\n    if (styles[property] !== undefined) {\n      this[CurrentStyle].set(property, styles[property]);\n    } else {\n      this[CurrentStyle][\"delete\"](property);\n    }\n  }\n};\nvar getter = function getter(name) {\n  var _this = this;\n  if (typeof this[name] === 'function') {\n    return this[name];\n  }\n  if (this.node && typeof this.node[name] === 'function') {\n    return function () {\n      var _this$node;\n      return (_this$node = _this.node)[name].apply(_this$node, arguments);\n    };\n  }\n  if (name === 'style') {\n    return this.proxy.style;\n  }\n  if (this.node && name in this.node) {\n    return this.node[name];\n  }\n  return this[name];\n};\nvar Tag = /*#__PURE__*/function () {\n  function Tag(element, parent, ref, index, direct) {\n    var _this2 = this;\n    _classCallCheck(this, Tag);\n    if (typeof element === 'string') {\n      var subdoc = document.createRange().createContextualFragment(element);\n      element = subdoc.firstChild;\n    }\n    this.element = _Bindable.Bindable.makeBindable(element);\n    this.node = this.element;\n    this.parent = parent;\n    this.direct = direct;\n    this.ref = ref;\n    this.index = index;\n    this.cleanup = [];\n    this[_Bindable.Bindable.OnAllGet] = getter.bind(this);\n    this[CurrentStyle] = new Map();\n    var boundStyler = _Bindable.Bindable.make(styler.bind(this));\n    Object.defineProperty(this, 'style', {\n      value: boundStyler\n    });\n    this.proxy = _Bindable.Bindable.make(this);\n    this.proxy.style.bindTo(function (v, k, t, d) {\n      if (_this2[CurrentStyle].has(k) && _this2[CurrentStyle].get(k) === v) {\n        return;\n      }\n      _this2.node.style[k] = v;\n      if (!d && v !== undefined) {\n        _this2[CurrentStyle].set(k, v);\n      } else {\n        _this2[CurrentStyle][\"delete\"](k);\n      }\n    });\n    this.proxy.bindTo(function (v, k) {\n      if (k === 'index') {\n        return;\n      }\n      if (k in element && element[k] !== v) {\n        element[k] = v;\n      }\n      return false;\n    });\n    return this.proxy;\n  }\n  _createClass(Tag, [{\n    key: \"attr\",\n    value: function attr(attributes) {\n      for (var attribute in attributes) {\n        if (attributes[attribute] === undefined) {\n          this.node.removeAttribute(attribute);\n        } else if (attributes[attribute] === null) {\n          this.node.setAttribute(attribute, '');\n        } else {\n          this.node.setAttribute(attribute, attributes[attribute]);\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.node) {\n        this.node.remove();\n      }\n      _Bindable.Bindable.clearBindings(this);\n      var cleanup;\n      while (cleanup = this.cleanup.shift()) {\n        cleanup();\n      }\n      this.clear();\n      if (!this.node) {\n        return;\n      }\n      var detachEvent = new Event('cvDomDetached');\n      this.node.dispatchEvent(detachEvent);\n      this.node = this.element = this.ref = this.parent = undefined;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.node) {\n        return;\n      }\n      var detachEvent = new Event('cvDomDetached');\n      while (this.node.firstChild) {\n        this.node.firstChild.dispatchEvent(detachEvent);\n        this.node.removeChild(this.node.firstChild);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var paused = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(eventName, callback, options) {\n      var node = this.node;\n      node.addEventListener(eventName, callback, options);\n      var remove = function remove() {\n        node.removeEventListener(eventName, callback, options);\n      };\n      var remover = function remover() {\n        remove();\n        remove = function remove() {\n          return console.warn('Already removed!');\n        };\n      };\n      this.parent.onRemove(function () {\n        return remover();\n      });\n      return remover;\n    }\n  }]);\n  return Tag;\n}();\nexports.Tag = Tag;\n  })();\n});","\nrequire.register(\"curvature/base/Uuid.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Uuid = void 0;\nvar _Symbol$toPrimitive;\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n_Symbol$toPrimitive = Symbol.toPrimitive;\nvar Uuid = /*#__PURE__*/function () {\n  function Uuid() {\n    var uuid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n    _classCallCheck(this, Uuid);\n    _defineProperty(this, \"uuid\", null);\n    _defineProperty(this, \"version\", 4);\n    if (uuid) {\n      if (!uuid || typeof uuid !== 'string' && !(uuid instanceof Uuid) || !uuid.match(/[0-9A-Fa-f]{8}(-[0-9A-Fa-f]{4}){3}-[0-9A-Fa-f]{12}/)) {\n        throw new Error(\"Invalid input for Uuid: \\\"\".concat(uuid, \"\\\"\"));\n      }\n      this.version = version;\n      this.uuid = uuid;\n    } else if (typeof crypto.randomUUID === 'function') {\n      this.uuid = crypto.randomUUID();\n    } else {\n      this.uuid = ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n        return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);\n      });\n    }\n    Object.freeze(this);\n  }\n  _createClass(Uuid, [{\n    key: _Symbol$toPrimitive,\n    value: function value() {\n      return this.toString();\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.uuid;\n    }\n  }, {\n    key: \"toJson\",\n    value: function toJson() {\n      return {\n        version: this.version,\n        uuid: this.uuid\n      };\n    }\n  }]);\n  return Uuid;\n}();\nexports.Uuid = Uuid;\n  })();\n});","\nrequire.register(\"curvature/base/View.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.View = void 0;\nvar _Bindable = require(\"./Bindable\");\nvar _ViewList = require(\"./ViewList\");\nvar _Router = require(\"./Router\");\nvar _Uuid = require(\"./Uuid\");\nvar _Dom = require(\"./Dom\");\nvar _Tag = require(\"./Tag\");\nvar _Bag = require(\"./Bag\");\nvar _RuleSet = require(\"./RuleSet\");\nvar _Mixin = require(\"./Mixin\");\nvar _PromiseMixin = require(\"../mixin/PromiseMixin\");\nvar _EventTargetMixin = require(\"../mixin/EventTargetMixin\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar dontParse = Symbol('dontParse');\nvar expandBind = Symbol('expandBind');\nvar uuid = Symbol('uuid');\nvar moveIndex = 0;\nvar View = /*#__PURE__*/function (_Mixin$with) {\n  _inherits(View, _Mixin$with);\n  var _super = _createSuper(View);\n  function View() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var mainView = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    _classCallCheck(this, View);\n    _this = _super.call(this, args, mainView);\n    _this[_EventTargetMixin.EventTargetMixin.EventTargetParent] = mainView;\n    Object.defineProperty(_assertThisInitialized(_this), 'args', {\n      value: _Bindable.Bindable.make(args)\n    });\n    Object.defineProperty(_assertThisInitialized(_this), uuid, {\n      value: _this.constructor.uuid()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'nodesAttached', {\n      value: new _Bag.Bag(function (i, s, a) {})\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'nodesDetached', {\n      value: new _Bag.Bag(function (i, s, a) {})\n    });\n    Object.defineProperty(_assertThisInitialized(_this), '_onRemove', {\n      value: new _Bag.Bag(function (i, s, a) {})\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'cleanup', {\n      value: []\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'parent', {\n      value: mainView\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'views', {\n      value: new Map()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'viewLists', {\n      value: new Map()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'withViews', {\n      value: new Map()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'tags', {\n      value: _Bindable.Bindable.make({})\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'nodes', {\n      value: _Bindable.Bindable.make([])\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'timeouts', {\n      value: new Map()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'intervals', {\n      value: []\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'frames', {\n      value: []\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'ruleSet', {\n      value: new _RuleSet.RuleSet()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'preRuleSet', {\n      value: new _RuleSet.RuleSet()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'subBindings', {\n      value: {}\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'templates', {\n      value: {}\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'eventCleanup', {\n      value: []\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'unpauseCallbacks', {\n      value: new Map()\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'interpolateRegex', {\n      value: /(\\[\\[((?:\\$+)?[\\w\\.\\|-]+)\\]\\])/g\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'rendered', {\n      value: new Promise(function (accept, reject) {\n        return Object.defineProperty(_assertThisInitialized(_this), 'renderComplete', {\n          value: accept\n        });\n      })\n    });\n    _this.onRemove(function () {\n      if (!_this[_EventTargetMixin.EventTargetMixin.Parent]) {\n        return;\n      }\n      _this[_EventTargetMixin.EventTargetMixin.Parent] = null;\n    });\n    _this.controller = _assertThisInitialized(_this);\n    _this.template = \"\";\n    _this.firstNode = null;\n    _this.lastNode = null;\n    _this.viewList = null;\n    _this.mainView = null;\n    _this.preserve = false;\n    _this.removed = false;\n    _this.loaded = Promise.resolve(_assertThisInitialized(_this));\n\n    // return Bindable.make(this);\n    return _this;\n  }\n  _createClass(View, [{\n    key: \"_id\",\n    get: function get() {\n      return this[uuid];\n    }\n  }, {\n    key: \"onFrame\",\n    value: function onFrame(callback) {\n      var _this2 = this;\n      var stopped = false;\n      var cancel = function cancel() {\n        stopped = true;\n      };\n      var c = function c(timestamp) {\n        if (_this2.removed || stopped) {\n          return;\n        }\n        if (!_this2.paused) {\n          callback(Date.now());\n        }\n        requestAnimationFrame(c);\n      };\n      requestAnimationFrame(function () {\n        return c(Date.now());\n      });\n      this.frames.push(cancel);\n      return cancel;\n    }\n  }, {\n    key: \"onNextFrame\",\n    value: function onNextFrame(callback) {\n      return requestAnimationFrame(function () {\n        return callback(Date.now());\n      });\n    }\n  }, {\n    key: \"onIdle\",\n    value: function onIdle(callback) {\n      return requestIdleCallback(function () {\n        return callback(Date.now());\n      });\n    }\n  }, {\n    key: \"onTimeout\",\n    value: function onTimeout(time, callback) {\n      var _this3 = this;\n      var timeoutInfo = {\n        timeout: null,\n        callback: null,\n        time: time,\n        fired: false,\n        created: new Date().getTime(),\n        paused: false\n      };\n      var wrappedCallback = function wrappedCallback() {\n        callback();\n        timeoutInfo.fired = true;\n        _this3.timeouts[\"delete\"](timeoutInfo.timeout);\n      };\n      var timeout = setTimeout(wrappedCallback, time);\n      timeoutInfo.callback = wrappedCallback;\n      timeoutInfo.timeout = timeout;\n      this.timeouts.set(timeoutInfo.timeout, timeoutInfo);\n      return timeout;\n    }\n  }, {\n    key: \"clearTimeout\",\n    value: function (_clearTimeout) {\n      function clearTimeout(_x) {\n        return _clearTimeout.apply(this, arguments);\n      }\n      clearTimeout.toString = function () {\n        return _clearTimeout.toString();\n      };\n      return clearTimeout;\n    }(function (timeout) {\n      var _iterator = _createForOfIteratorHelper(this.timeouts),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            callback = _step$value[0],\n            timeoutInfo = _step$value[1];\n          clearTimeout(timeoutInfo.timeout);\n          this.timeouts[\"delete\"](timeoutInfo.timeout);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    })\n  }, {\n    key: \"onInterval\",\n    value: function onInterval(time, callback) {\n      var timeout = setInterval(callback, time);\n      this.intervals.push({\n        timeout: timeout,\n        callback: callback,\n        time: time,\n        paused: false\n      });\n      return timeout;\n    }\n  }, {\n    key: \"clearInterval\",\n    value: function (_clearInterval) {\n      function clearInterval(_x2) {\n        return _clearInterval.apply(this, arguments);\n      }\n      clearInterval.toString = function () {\n        return _clearInterval.toString();\n      };\n      return clearInterval;\n    }(function (timeout) {\n      for (var i in this.intervals) {\n        if (timeout === this.intervals[i].timeout) {\n          clearInterval(this.intervals[i].timeout);\n          delete this.intervals[i];\n        }\n      }\n    })\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var paused = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      if (paused === undefined) {\n        this.paused = !this.paused;\n      }\n      this.paused = paused;\n      if (this.paused) {\n        var _iterator2 = _createForOfIteratorHelper(this.timeouts),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _step2$value = _slicedToArray(_step2.value, 2),\n              callback = _step2$value[0],\n              timeout = _step2$value[1];\n            if (timeout.fired) {\n              this.timeouts[\"delete\"](timeout.timeout);\n              continue;\n            }\n            clearTimeout(timeout.timeout);\n            timeout.paused = true;\n            timeout.time = Math.max(0, timeout.time - (Date.now() - timeout.created));\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        for (var i in this.intervals) {\n          clearInterval(this.intervals[i].timeout);\n        }\n      } else {\n        var _iterator3 = _createForOfIteratorHelper(this.timeouts),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _step3$value = _slicedToArray(_step3.value, 2),\n              _callback = _step3$value[0],\n              _timeout = _step3$value[1];\n            if (!_timeout.paused) {\n              continue;\n            }\n            if (_timeout.fired) {\n              this.timeouts[\"delete\"](_timeout.timeout);\n              continue;\n            }\n            _timeout.timeout = setTimeout(_timeout.callback, _timeout.time);\n            _timeout.paused = false;\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        for (var _i2 in this.intervals) {\n          if (!this.intervals[_i2].timeout.paused) {\n            continue;\n          }\n          this.intervals[_i2].timeout.paused = false;\n          this.intervals[_i2].timeout = setInterval(this.intervals[_i2].callback, this.intervals[_i2].time);\n        }\n        var _iterator4 = _createForOfIteratorHelper(this.unpauseCallbacks),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var _step4$value = _slicedToArray(_step4.value, 2),\n              _callback2 = _step4$value[1];\n            _callback2();\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n        this.unpauseCallbacks.clear();\n      }\n      var _iterator5 = _createForOfIteratorHelper(this.viewLists),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var _step5$value = _slicedToArray(_step5.value, 2),\n            tag = _step5$value[0],\n            viewList = _step5$value[1];\n          viewList.pause(!!paused);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n      for (var _i3 in this.tags) {\n        if (Array.isArray(this.tags[_i3])) {\n          for (var j in this.tags[_i3]) {\n            this.tags[_i3][j].pause(!!paused);\n          }\n          continue;\n        }\n        this.tags[_i3].pause(!!paused);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$nodes,\n        _this4 = this;\n      var parentNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var insertPoint = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      if (parentNode instanceof View) {\n        parentNode = parentNode.firstNode.parentNode;\n      }\n      if (insertPoint instanceof View) {\n        insertPoint = insertPoint.firstNode;\n      }\n      if (this.firstNode) {\n        return this.reRender(parentNode, insertPoint);\n      }\n      this.dispatchEvent(new CustomEvent('render'));\n      var templateParsed = this.template instanceof DocumentFragment ? this.template.cloneNode(true) : View.templates.has(this.template);\n      var subDoc = templateParsed ? this.template instanceof DocumentFragment ? templateParsed : View.templates.get(this.template).cloneNode(true) : document.createRange().createContextualFragment(this.template);\n      if (!templateParsed && !(this.template instanceof DocumentFragment)) {\n        View.templates.set(this.template, subDoc.cloneNode(true));\n      }\n      this.mainView || this.preRuleSet.apply(subDoc, this);\n      this.mapTags(subDoc);\n      this.mainView || this.ruleSet.apply(subDoc, this);\n      if (window.devMode === true) {\n        this.firstNode = document.createComment(\"Template \".concat(this._id, \" Start\"));\n        this.lastNode = document.createComment(\"Template \".concat(this._id, \" End\"));\n      } else {\n        this.firstNode = document.createTextNode('');\n        this.lastNode = document.createTextNode('');\n      }\n      (_this$nodes = this.nodes).push.apply(_this$nodes, [this.firstNode].concat(_toConsumableArray(Array.from(subDoc.childNodes)), [this.lastNode]));\n      this.postRender(parentNode);\n      this.dispatchEvent(new CustomEvent('rendered'));\n      if (!this.dispatchAttach()) {\n        return;\n      }\n      if (parentNode) {\n        var rootNode = parentNode.getRootNode();\n        if (insertPoint) {\n          parentNode.insertBefore(this.firstNode, insertPoint);\n          parentNode.insertBefore(this.lastNode, insertPoint);\n        } else {\n          parentNode.appendChild(this.firstNode);\n          parentNode.appendChild(this.lastNode);\n        }\n        parentNode.insertBefore(subDoc, this.lastNode);\n        moveIndex++;\n        if (rootNode.isConnected) {\n          this.attached(rootNode, parentNode);\n          this.dispatchAttached(rootNode, parentNode);\n        } else {\n          var firstDomAttach = function firstDomAttach(event) {\n            if (!event.target.isConnected) {\n              return;\n            }\n            _this4.attached(rootNode, parentNode);\n            _this4.dispatchAttached(rootNode, parentNode);\n            parentNode.removeEventListener('cvDomAttached', firstDomAttach);\n          };\n          parentNode.addEventListener('cvDomAttached', firstDomAttach);\n        }\n      }\n      this.renderComplete(this.nodes);\n      return this.nodes;\n    }\n  }, {\n    key: \"dispatchAttach\",\n    value: function dispatchAttach() {\n      return this.dispatchEvent(new CustomEvent('attach', {\n        cancelable: true,\n        target: this\n      }));\n    }\n  }, {\n    key: \"dispatchAttached\",\n    value: function dispatchAttached(rootNode, parentNode) {\n      var view = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      this.dispatchEvent(new CustomEvent('attached', {\n        detail: {\n          view: view || this,\n          node: parentNode,\n          root: rootNode,\n          mainView: this\n        }\n      }));\n      this.dispatchDomAttached(view);\n      var _iterator6 = _createForOfIteratorHelper(this.nodesAttached.items()),\n        _step6;\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var callback = _step6.value;\n          callback(rootNode, parentNode);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    }\n  }, {\n    key: \"dispatchDomAttached\",\n    value: function dispatchDomAttached(view) {\n      var _this5 = this;\n      this.nodes.filter(function (n) {\n        return n.nodeType !== Node.COMMENT_NODE;\n      }).forEach(function (child) {\n        if (!child.matches) {\n          return;\n        }\n        _Dom.Dom.mapTags(child, false, function (tag, walker) {\n          if (!tag.matches) {\n            return;\n          }\n          tag.dispatchEvent(new CustomEvent('cvDomAttached', {\n            target: tag,\n            detail: {\n              view: view || _this5,\n              mainView: _this5\n            }\n          }));\n        });\n        child.dispatchEvent(new CustomEvent('cvDomAttached', {\n          target: child,\n          detail: {\n            view: view || _this5,\n            mainView: _this5\n          }\n        }));\n      });\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(parentNode, insertPoint) {\n      var willReRender = this.dispatchEvent(new CustomEvent('reRender'), {\n        cancelable: true,\n        target: this\n      });\n      if (!willReRender) {\n        return;\n      }\n      var subDoc = new DocumentFragment();\n      if (this.firstNode.isConnected) {\n        var detach = this.nodesDetached.items();\n        for (var i in detach) {\n          detach[i]();\n        }\n      }\n      subDoc.append.apply(subDoc, _toConsumableArray(this.nodes));\n      if (parentNode) {\n        if (insertPoint) {\n          parentNode.insertBefore(this.firstNode, insertPoint);\n          parentNode.insertBefore(this.lastNode, insertPoint);\n        } else {\n          parentNode.appendChild(this.firstNode);\n          parentNode.appendChild(this.lastNode);\n        }\n        parentNode.insertBefore(subDoc, this.lastNode);\n        this.dispatchEvent(new CustomEvent('reRendered'), {\n          cancelable: true,\n          target: this\n        });\n        var rootNode = parentNode.getRootNode();\n        if (rootNode.isConnected) {\n          this.attached(rootNode, parentNode);\n          this.dispatchAttached(rootNode, parentNode);\n        }\n      }\n      return this.nodes;\n    }\n  }, {\n    key: \"mapTags\",\n    value: function mapTags(subDoc) {\n      var _this6 = this;\n      _Dom.Dom.mapTags(subDoc, false, function (tag, walker) {\n        if (tag[dontParse]) {\n          return;\n        }\n        if (tag.matches) {\n          tag = _this6.mapInterpolatableTag(tag);\n          tag = tag.matches('[cv-template]') && _this6.mapTemplateTag(tag) || tag;\n          tag = tag.matches('[cv-slot]') && _this6.mapSlotTag(tag) || tag;\n          tag = tag.matches('[cv-prerender]') && _this6.mapPrendererTag(tag) || tag;\n          tag = tag.matches('[cv-link]') && _this6.mapLinkTag(tag) || tag;\n          tag = tag.matches('[cv-attr]') && _this6.mapAttrTag(tag) || tag;\n          tag = tag.matches('[cv-expand]') && _this6.mapExpandableTag(tag) || tag;\n          tag = tag.matches('[cv-ref]') && _this6.mapRefTag(tag) || tag;\n          tag = tag.matches('[cv-on]') && _this6.mapOnTag(tag) || tag;\n          tag = tag.matches('[cv-each]') && _this6.mapEachTag(tag) || tag;\n          tag = tag.matches('[cv-bind]') && _this6.mapBindTag(tag) || tag;\n          tag = tag.matches('[cv-with]') && _this6.mapWithTag(tag) || tag;\n          tag = tag.matches('[cv-if]') && _this6.mapIfTag(tag) || tag;\n          tag = tag.matches('[cv-view]') && _this6.mapViewTag(tag) || tag;\n        } else {\n          tag = _this6.mapInterpolatableTag(tag);\n        }\n        if (tag !== walker.currentNode) {\n          walker.currentNode = tag;\n        }\n      });\n    }\n  }, {\n    key: \"mapExpandableTag\",\n    value: function mapExpandableTag(tag) {\n      /*/\n      const tagCompiler = this.compileExpandableTag(tag);\n      \tconst newTag = tagCompiler(this);\n      \ttag.replaceWith(newTag);\n      \treturn newTag;\n      /*/\n\n      var existing = tag[expandBind];\n      if (existing) {\n        existing();\n        tag[expandBind] = false;\n      }\n      var _Bindable$resolve = _Bindable.Bindable.resolve(this.args, tag.getAttribute('cv-expand'), true),\n        _Bindable$resolve2 = _slicedToArray(_Bindable$resolve, 2),\n        proxy = _Bindable$resolve2[0],\n        expandProperty = _Bindable$resolve2[1];\n      tag.removeAttribute('cv-expand');\n      if (!proxy[expandProperty]) {\n        proxy[expandProperty] = {};\n      }\n      proxy[expandProperty] = _Bindable.Bindable.make(proxy[expandProperty]);\n      this.onRemove(tag[expandBind] = proxy[expandProperty].bindTo(function (v, k, t, d, p) {\n        if (d || v === undefined) {\n          tag.removeAttribute(k, v);\n          return;\n        }\n        if (v === null) {\n          tag.setAttribute(k, '');\n          return;\n        }\n        tag.setAttribute(k, v);\n      }));\n\n      // let expandProperty = tag.getAttribute('cv-expand');\n      // let expandArg = Bindable.makeBindable(\n      // \tthis.args[expandProperty] || {}\n      // );\n\n      // tag.removeAttribute('cv-expand');\n\n      // for(let i in expandArg)\n      // {\n      // \tif(i === 'name' || i === 'type')\n      // \t{\n      // \t\tcontinue;\n      // \t}\n\n      // \tlet debind = expandArg.bindTo(i, ((tag,i)=>(v)=>{\n      // \t\ttag.setAttribute(i, v);\n      // \t})(tag,i));\n\n      // \tthis.onRemove(()=>{\n      // \t\tdebind();\n      // \t\tif(expandArg.isBound())\n      // \t\t{\n      // \t\t\tBindable.clearBindings(expandArg);\n      // \t\t}\n      // \t});\n      // }\n\n      return tag;\n      //*/\n    }\n  }, {\n    key: \"compileExpandableTag\",\n    value: function compileExpandableTag(sourceTag) {\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode(true);\n        var expandProperty = tag.getAttribute('cv-expand');\n        var expandArg = _Bindable.Bindable.make(bindingView.args[expandProperty] || {});\n        tag.removeAttribute('cv-expand');\n        var _loop = function _loop() {\n          if (i === 'name' || i === 'type') {\n            return \"continue\";\n          }\n          var debind = expandArg.bindTo(i, function (tag, i) {\n            return function (v) {\n              tag.setAttribute(i, v);\n            };\n          }(tag, i));\n          bindingView.onRemove(function () {\n            debind();\n            if (expandArg.isBound()) {\n              _Bindable.Bindable.clearBindings(expandArg);\n            }\n          });\n        };\n        for (var i in expandArg) {\n          var _ret = _loop();\n          if (_ret === \"continue\") continue;\n        }\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapAttrTag\",\n    value: function mapAttrTag(tag) {\n      //*/\n      var tagCompiler = this.compileAttrTag(tag);\n      var newTag = tagCompiler(this);\n      tag.replaceWith(newTag);\n      return newTag;\n\n      /*/\n      \tlet attrProperty = tag.getAttribute('cv-attr');\n      \ttag.removeAttribute('cv-attr');\n      \tlet pairs = attrProperty.split(',');\n      let attrs = pairs.map((p) => p.split(':'));\n      \tfor (let i in attrs)\n      {\n      \tlet proxy        = this.args;\n      \tlet bindProperty = attrs[i][1];\n      \tlet property     = bindProperty;\n      \t\tif(bindProperty.match(/\\./))\n      \t{\n      \t\t[proxy, property] = Bindable.resolve(\n      \t\t\tthis.args\n      \t\t\t, bindProperty\n      \t\t\t, true\n      \t\t);\n      \t}\n      \t\tlet attrib = attrs[i][0];\n      \t\tthis.onRemove(proxy.bindTo(\n      \t\tproperty\n      \t\t, (v)=>{\n      \t\t\tif(v == null)\n      \t\t\t{\n      \t\t\t\ttag.setAttribute(attrib, '');\n      \t\t\t\treturn;\n      \t\t\t}\n      \t\t\ttag.setAttribute(attrib, v);\n      \t\t}\n      \t));\n      }\n      \treturn tag;\n      \t//*/\n    }\n  }, {\n    key: \"compileAttrTag\",\n    value: function compileAttrTag(sourceTag) {\n      var attrProperty = sourceTag.getAttribute('cv-attr');\n      var pairs = attrProperty.split(/[,;]/);\n      var attrs = pairs.map(function (p) {\n        return p.split(':');\n      });\n      sourceTag.removeAttribute('cv-attr');\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode(true);\n        var _loop2 = function _loop2() {\n          var bindProperty = attrs[i][1] || attrs[i][0];\n          var _Bindable$resolve3 = _Bindable.Bindable.resolve(bindingView.args, bindProperty, true),\n            _Bindable$resolve4 = _slicedToArray(_Bindable$resolve3, 2),\n            proxy = _Bindable$resolve4[0],\n            property = _Bindable$resolve4[1];\n          var attrib = attrs[i][0];\n          bindingView.onRemove(proxy.bindTo(property, function (v, k, t, d) {\n            if (d || v === undefined) {\n              tag.removeAttribute(attrib, v);\n              return;\n            }\n            if (v === null) {\n              tag.setAttribute(attrib, '');\n              return;\n            }\n            tag.setAttribute(attrib, v);\n          }));\n        };\n        for (var i in attrs) {\n          _loop2();\n        }\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapInterpolatableTag\",\n    value: function mapInterpolatableTag(tag) {\n      var _this7 = this;\n      var regex = this.interpolateRegex;\n      if (tag.nodeType === Node.TEXT_NODE) {\n        var original = tag.nodeValue;\n        if (!this.interpolatable(original)) {\n          return tag;\n        }\n        var header = 0;\n        var match;\n        var _loop3 = function _loop3() {\n          var bindProperty = match[2];\n          var unsafeHtml = false;\n          var unsafeView = false;\n          var propertySplit = bindProperty.split('|');\n          var transformer = false;\n          if (propertySplit.length > 1) {\n            transformer = _this7.stringTransformer(propertySplit.slice(1));\n            bindProperty = propertySplit[0];\n          }\n          if (bindProperty.substr(0, 2) === '$$') {\n            unsafeHtml = true;\n            unsafeView = true;\n            bindProperty = bindProperty.substr(2);\n          }\n          if (bindProperty.substr(0, 1) === '$') {\n            unsafeHtml = true;\n            bindProperty = bindProperty.substr(1);\n          }\n          if (bindProperty.substr(0, 3) === '000') {\n            expand = true;\n            bindProperty = bindProperty.substr(3);\n            return \"continue\";\n          }\n          var staticPrefix = original.substring(header, match.index);\n          header = match.index + match[1].length;\n          var staticNode = document.createTextNode(staticPrefix);\n          staticNode[dontParse] = true;\n          tag.parentNode.insertBefore(staticNode, tag);\n          var dynamicNode;\n          if (unsafeHtml) {\n            dynamicNode = document.createElement('div');\n          } else {\n            dynamicNode = document.createTextNode('');\n          }\n          dynamicNode[dontParse] = true;\n          var proxy = _this7.args;\n          var property = bindProperty;\n          if (bindProperty.match(/\\./)) {\n            var _Bindable$resolve5 = _Bindable.Bindable.resolve(_this7.args, bindProperty, true);\n            var _Bindable$resolve6 = _slicedToArray(_Bindable$resolve5, 2);\n            proxy = _Bindable$resolve6[0];\n            property = _Bindable$resolve6[1];\n          }\n          tag.parentNode.insertBefore(dynamicNode, tag);\n          if (_typeof(proxy) !== 'object') {\n            return \"break\";\n          }\n          proxy = _Bindable.Bindable.make(proxy);\n          var debind = proxy.bindTo(property, function (v, k, t) {\n            if (t[k] !== v && (t[k] instanceof View || t[k] instanceof Node || t[k] instanceof _Tag.Tag)) {\n              if (!t[k].preserve) {\n                t[k].remove();\n              }\n            }\n            dynamicNode.nodeValue = '';\n            if (unsafeView && !(v instanceof View)) {\n              var _v;\n              var unsafeTemplate = (_v = v) !== null && _v !== void 0 ? _v : '';\n              v = new View(_this7.args, _this7);\n              v.template = unsafeTemplate;\n            }\n            if (transformer) {\n              v = transformer(v);\n            }\n            if (v instanceof View) {\n              v[_EventTargetMixin.EventTargetMixin.EventTargetParent] = _this7;\n              var onAttach = function onAttach(rootNode, parentNode) {\n                v.dispatchAttached(rootNode, parentNode, _this7);\n              };\n              _this7.nodesAttached.add(onAttach);\n              v.render(tag.parentNode, dynamicNode);\n              var cleanup = function cleanup() {\n                if (!v.preserve) {\n                  v.remove();\n                }\n              };\n              _this7.onRemove(cleanup);\n              v.onRemove(function () {\n                _this7.nodesAttached.remove(onAttach);\n                _this7._onRemove.remove(cleanup);\n              });\n            } else if (v instanceof Node) {\n              tag.parentNode.insertBefore(v, dynamicNode);\n              _this7.onRemove(function () {\n                return v.remove();\n              });\n            } else if (v instanceof _Tag.Tag) {\n              if (v.node) {\n                tag.parentNode.insertBefore(v.node, dynamicNode);\n                _this7.onRemove(function () {\n                  return v.remove();\n                });\n              } else {\n                v.remove();\n              }\n            } else {\n              if (v instanceof Object && v.__toString instanceof Function) {\n                v = v.__toString();\n              }\n              if (unsafeHtml) {\n                dynamicNode.innerHTML = v;\n              } else {\n                dynamicNode.nodeValue = v;\n              }\n            }\n            dynamicNode[dontParse] = true;\n          });\n          _this7.onRemove(debind);\n        };\n        while (match = regex.exec(original)) {\n          var _ret2 = _loop3();\n          if (_ret2 === \"continue\") continue;\n          if (_ret2 === \"break\") break;\n        }\n        var staticSuffix = original.substring(header);\n        var staticNode = document.createTextNode(staticSuffix);\n        staticNode[dontParse] = true;\n        tag.parentNode.insertBefore(staticNode, tag);\n        tag.nodeValue = '';\n      } else if (tag.nodeType === Node.ELEMENT_NODE) {\n        var _loop4 = function _loop4() {\n          if (!_this7.interpolatable(tag.attributes[i].value)) {\n            return \"continue\";\n          }\n          var header = 0;\n          var match;\n          var original = tag.attributes[i].value;\n          var attribute = tag.attributes[i];\n          var bindProperties = {};\n          var segments = [];\n          while (match = regex.exec(original)) {\n            segments.push(original.substring(header, match.index));\n            if (!bindProperties[match[2]]) {\n              bindProperties[match[2]] = [];\n            }\n            bindProperties[match[2]].push(segments.length);\n            segments.push(match[1]);\n            header = match.index + match[1].length;\n          }\n          segments.push(original.substring(header));\n          var _loop5 = function _loop5() {\n            var proxy = _this7.args;\n            var property = j;\n            var propertySplit = j.split('|');\n            var transformer = false;\n            var longProperty = j;\n            if (propertySplit.length > 1) {\n              transformer = _this7.stringTransformer(propertySplit.slice(1));\n              property = propertySplit[0];\n            }\n            if (property.match(/\\./)) {\n              var _Bindable$resolve7 = _Bindable.Bindable.resolve(_this7.args, property, true);\n              var _Bindable$resolve8 = _slicedToArray(_Bindable$resolve7, 2);\n              proxy = _Bindable$resolve8[0];\n              property = _Bindable$resolve8[1];\n            }\n            var matching = [];\n            var bindProperty = j;\n            var matchingSegments = bindProperties[longProperty];\n\n            // const changeAttribute = (v, k, t, d) => {\n            // \ttag.setAttribute(attribute.name, segments.join(''));\n            // };\n\n            _this7.onRemove(proxy.bindTo(property, function (v, k, t, d) {\n              if (transformer) {\n                v = transformer(v);\n              }\n              for (var _i4 in bindProperties) {\n                for (var _j in bindProperties[longProperty]) {\n                  segments[bindProperties[longProperty][_j]] = t[_i4];\n                  if (k === property) {\n                    segments[bindProperties[longProperty][_j]] = v;\n                  }\n                }\n              }\n              if (!_this7.paused) {\n                // changeAttribute(v,k,t,d);\n                tag.setAttribute(attribute.name, segments.join(''));\n              } else {\n                // this.unpauseCallbacks.set(attribute, () => changeAttribute(v,k,t,d));\n                _this7.unpauseCallbacks.set(attribute, function () {\n                  return tag.setAttribute(attribute.name, segments.join(''));\n                });\n              }\n            }));\n            _this7.onRemove(function () {\n              if (!proxy.isBound()) {\n                _Bindable.Bindable.clearBindings(proxy);\n              }\n            });\n          };\n          for (var j in bindProperties) {\n            _loop5();\n          }\n        };\n        for (var i = 0; i < tag.attributes.length; i++) {\n          var _ret3 = _loop4();\n          if (_ret3 === \"continue\") continue;\n        }\n      }\n      return tag;\n    }\n  }, {\n    key: \"mapRefTag\",\n    value: function mapRefTag(tag) {\n      var refAttr = tag.getAttribute('cv-ref');\n      var _refAttr$split = refAttr.split(':'),\n        _refAttr$split2 = _slicedToArray(_refAttr$split, 3),\n        refProp = _refAttr$split2[0],\n        _refAttr$split2$ = _refAttr$split2[1],\n        refClassname = _refAttr$split2$ === void 0 ? null : _refAttr$split2$,\n        _refAttr$split2$2 = _refAttr$split2[2],\n        refKey = _refAttr$split2$2 === void 0 ? null : _refAttr$split2$2;\n      var refClass = _Tag.Tag;\n      if (refClassname) {\n        refClass = this.stringToClass(refClassname);\n      }\n      tag.removeAttribute('cv-ref');\n      Object.defineProperty(tag, '___tag___', {\n        enumerable: false,\n        writable: true\n      });\n      this.onRemove(function () {\n        tag.___tag___ = null;\n        tag.remove();\n      });\n      var parent = this;\n      var direct = this;\n      if (this.viewList) {\n        parent = this.viewList.parent;\n        // if(!this.viewList.parent.tags[refProp])\n        // {\n        // \tthis.viewList.parent.tags[refProp] = [];\n        // }\n\n        // let refKeyVal = this.args[refKey];\n\n        // this.viewList.parent.tags[refProp][refKeyVal] = new refClass(\n        // \ttag, this, refProp, refKeyVal\n        // );\n      } else {\n        // this.tags[refProp] = new refClass(\n        // \ttag, this, refProp\n        // );\n      }\n      var tagObject = new refClass(tag, this, refProp, undefined, direct);\n      tag.___tag___ = tagObject;\n      this.tags[refProp] = tagObject;\n      while (parent) {\n        var refKeyVal = this.args[refKey];\n        if (refKeyVal !== undefined) {\n          if (!parent.tags[refProp]) {\n            parent.tags[refProp] = [];\n          }\n          parent.tags[refProp][refKeyVal] = tagObject;\n        } else {\n          parent.tags[refProp] = tagObject;\n        }\n        if (!parent.parent) {\n          break;\n        }\n        parent = parent.parent;\n      }\n      return tag;\n    }\n  }, {\n    key: \"mapBindTag\",\n    value: function mapBindTag(tag) {\n      var _this8 = this;\n      var bindArg = tag.getAttribute('cv-bind');\n      var proxy = this.args;\n      var property = bindArg;\n      var top = null;\n      if (bindArg.match(/\\./)) {\n        var _Bindable$resolve9 = _Bindable.Bindable.resolve(this.args, bindArg, true);\n        var _Bindable$resolve10 = _slicedToArray(_Bindable$resolve9, 3);\n        proxy = _Bindable$resolve10[0];\n        property = _Bindable$resolve10[1];\n        top = _Bindable$resolve10[2];\n      }\n      if (proxy !== this.args) {\n        this.subBindings[bindArg] = this.subBindings[bindArg] || [];\n        this.onRemove(this.args.bindTo(top, function () {\n          while (_this8.subBindings.length) {\n            _this8.subBindings.shift()();\n          }\n        }));\n      }\n      var unsafeHtml = false;\n      if (property.substr(0, 1) === '$') {\n        property = property.substr(1);\n        unsafeHtml = true;\n      }\n      var debind = proxy.bindTo(property, function (v, k, t, d, p) {\n        if ((p instanceof View || p instanceof Node || p instanceof _Tag.Tag) && p !== v) {\n          p.remove();\n        }\n        var autoChangedEvent = new CustomEvent('cvAutoChanged', {\n          bubbles: true\n        });\n        if (['INPUT', 'SELECT', 'TEXTAREA'].includes(tag.tagName)) {\n          var _type = tag.getAttribute('type');\n          if (_type && _type.toLowerCase() === 'checkbox') {\n            tag.checked = !!v;\n            tag.dispatchEvent(autoChangedEvent);\n          } else if (_type && _type.toLowerCase() === 'radio') {\n            tag.checked = v == tag.value;\n            tag.dispatchEvent(autoChangedEvent);\n          } else if (_type !== 'file') {\n            if (tag.tagName === 'SELECT') {\n              var selectOption = function selectOption() {\n                for (var i = 0; i < tag.options.length; i++) {\n                  var option = tag.options[i];\n                  if (option.value == v) {\n                    tag.selectedIndex = i;\n                  }\n                }\n              };\n              selectOption();\n              _this8.nodesAttached.add(selectOption);\n            } else {\n              tag.value = v == null ? '' : v;\n            }\n            tag.dispatchEvent(autoChangedEvent);\n          }\n        } else {\n          if (v instanceof View) {\n            var _iterator7 = _createForOfIteratorHelper(tag.childNodes),\n              _step7;\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var node = _step7.value;\n                node.remove();\n              }\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n            var onAttach = function onAttach(parentNode) {\n              v.dispatchDomAttached(_this8);\n\n              // if(v.nodes.length && v.dispatchAttach())\n              // {\n              // \tv.attached(parentNode.getRootNode(), parentNode, this);\n              // \tv.dispatchAttached(parentNode.getRootNode(), parentNode, this);\n              // }\n            };\n\n            _this8.nodesAttached.add(onAttach);\n            v[_EventTargetMixin.EventTargetMixin.EventTargetParent] = _this8;\n            v.render(tag);\n            v.onRemove(function () {\n              return _this8.nodesAttached.remove(onAttach);\n            });\n          } else if (v instanceof Node) {\n            tag.insert(v);\n          } else if (v instanceof _Tag.Tag) {\n            tag.append(v.node);\n          } else if (unsafeHtml) {\n            if (tag.innerHTML !== v) {\n              v = String(v);\n              if (tag.innerHTML === v.substring(0, tag.innerHTML.length)) {\n                tag.innerHTML += v.substring(tag.innerHTML.length);\n              } else {\n                var _iterator8 = _createForOfIteratorHelper(tag.childNodes),\n                  _step8;\n                try {\n                  for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                    var _node = _step8.value;\n                    _node.remove();\n                  }\n                } catch (err) {\n                  _iterator8.e(err);\n                } finally {\n                  _iterator8.f();\n                }\n                tag.innerHTML = v;\n              }\n              _Dom.Dom.mapTags(tag, false, function (t) {\n                return t[dontParse] = true;\n              });\n            }\n          } else {\n            if (tag.textContent !== v) {\n              var _iterator9 = _createForOfIteratorHelper(tag.childNodes),\n                _step9;\n              try {\n                for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                  var _node2 = _step9.value;\n                  _node2.remove();\n                }\n              } catch (err) {\n                _iterator9.e(err);\n              } finally {\n                _iterator9.f();\n              }\n              tag.textContent = v;\n            }\n          }\n        }\n      });\n      if (proxy !== this.args) {\n        this.subBindings[bindArg].push(debind);\n      }\n      this.onRemove(debind);\n      var type = tag.getAttribute('type');\n      var multi = tag.getAttribute('multiple');\n      var inputListener = function inputListener(event) {\n        if (event.target !== tag) {\n          return;\n        }\n        if (type && type.toLowerCase() === 'checkbox') {\n          if (tag.checked) {\n            proxy[property] = event.target.getAttribute('value');\n          } else {\n            proxy[property] = false;\n          }\n        } else if (event.target.matches('[contenteditable=true]')) {\n          proxy[property] = event.target.innerHTML;\n        } else if (type === 'file' && multi) {\n          var files = Array.from(event.target.files);\n          var current = proxy[property] || _Bindable.Bindable.onDeck(proxy, property);\n          if (!current || !files.length) {\n            proxy[property] = files;\n          } else {\n            var _loop6 = function _loop6(i) {\n              if (files[i] !== current[i]) {\n                files[i].toJSON = function () {\n                  return {\n                    name: file[i].name,\n                    size: file[i].size,\n                    type: file[i].type,\n                    date: file[i].lastModified\n                  };\n                };\n                current[i] = files[i];\n                return \"break\";\n              }\n            };\n            for (var i in files) {\n              var _ret4 = _loop6(i);\n              if (_ret4 === \"break\") break;\n            }\n          }\n        } else if (type === 'file' && !multi && event.target.files.length) {\n          var _file = event.target.files.item(0);\n          _file.toJSON = function () {\n            return {\n              name: _file.name,\n              size: _file.size,\n              type: _file.type,\n              date: _file.lastModified\n            };\n          };\n          proxy[property] = _file;\n        } else {\n          proxy[property] = event.target.value;\n        }\n      };\n      if (type === 'file' || type === 'radio') {\n        tag.addEventListener('change', inputListener);\n      } else {\n        tag.addEventListener('input', inputListener);\n        tag.addEventListener('change', inputListener);\n        tag.addEventListener('value-changed', inputListener);\n      }\n      this.onRemove(function () {\n        if (type === 'file' || type === 'radio') {\n          tag.removeEventListener('change', inputListener);\n        } else {\n          tag.removeEventListener('input', inputListener);\n          tag.removeEventListener('change', inputListener);\n          tag.removeEventListener('value-changed', inputListener);\n        }\n      });\n      tag.removeAttribute('cv-bind');\n      return tag;\n    }\n  }, {\n    key: \"mapOnTag\",\n    value: function mapOnTag(tag) {\n      var _this9 = this;\n      var referents = String(tag.getAttribute('cv-on'));\n      referents.split(';').map(function (a) {\n        return a.split(':');\n      }).forEach(function (a) {\n        a = a.map(function (a) {\n          return a.trim();\n        });\n        var argLen = a.length;\n        var eventName = String(a.shift()).trim();\n        var callbackName = String(a.shift() || eventName).trim();\n        var eventFlags = String(a.shift() || '').trim();\n        var argList = [];\n        var groups = /(\\w+)(?:\\(([$\\w\\s-'\",]+)\\))?/.exec(callbackName);\n        if (groups) {\n          callbackName = groups[1].replace(/(^[\\s\\n]+|[\\s\\n]+$)/, '');\n          if (groups[2]) {\n            argList = groups[2].split(',').map(function (s) {\n              return s.trim();\n            });\n          }\n        }\n        if (!argList.length) {\n          argList.push('$event');\n        }\n        if (!eventName || argLen === 1) {\n          eventName = callbackName;\n        }\n        var eventMethod;\n        var parent = _this9;\n        var _loop7 = function _loop7() {\n          var controller = parent.controller;\n          if (typeof controller[callbackName] === 'function') {\n            eventMethod = function eventMethod() {\n              controller[callbackName].apply(controller, arguments);\n            };\n            return \"break\";\n          } else if (typeof parent[callbackName] === 'function') {\n            eventMethod = function eventMethod() {\n              var _parent;\n              (_parent = parent)[callbackName].apply(_parent, arguments);\n            };\n            return \"break\";\n          }\n          if (parent.parent) {\n            parent = parent.parent;\n          } else {\n            return \"break\";\n          }\n        };\n        while (parent) {\n          var _ret5 = _loop7();\n          if (_ret5 === \"break\") break;\n        }\n        var eventListener = function eventListener(event) {\n          var argRefs = argList.map(function (arg) {\n            var match;\n            if (Number(arg) == arg) {\n              return arg;\n            } else if (arg === 'event' || arg === '$event') {\n              return event;\n            } else if (arg === '$view') {\n              return parent;\n            } else if (arg === '$controller') {\n              return controller;\n            } else if (arg === '$tag') {\n              return tag;\n            } else if (arg === '$parent') {\n              return _this9.parent;\n            } else if (arg === '$subview') {\n              return _this9;\n            } else if (arg in _this9.args) {\n              return _this9.args[arg];\n            } else if (match = /^['\"]([\\w-]+?)[\"']$/.exec(arg)) {\n              return match[1];\n            }\n          });\n          if (!(typeof eventMethod === 'function')) {\n            throw new Error(\"\".concat(callbackName, \" is not defined on View object.\") + \"\\n\" + \"Tag:\" + \"\\n\" + \"\".concat(tag.outerHTML));\n          }\n          eventMethod.apply(void 0, _toConsumableArray(argRefs));\n        };\n        var eventOptions = {};\n        if (eventFlags.includes('p')) {\n          eventOptions.passive = true;\n        } else if (eventFlags.includes('P')) {\n          eventOptions.passive = false;\n        }\n        if (eventFlags.includes('c')) {\n          eventOptions.capture = true;\n        } else if (eventFlags.includes('C')) {\n          eventOptions.capture = false;\n        }\n        if (eventFlags.includes('o')) {\n          eventOptions.once = true;\n        } else if (eventFlags.includes('O')) {\n          eventOptions.once = false;\n        }\n        switch (eventName) {\n          case '_init':\n            eventListener();\n            break;\n          case '_attach':\n            _this9.nodesAttached.add(eventListener);\n            break;\n          case '_detach':\n            _this9.nodesDetached.add(eventListener);\n            break;\n          default:\n            tag.addEventListener(eventName, eventListener, eventOptions);\n            _this9.onRemove(function () {\n              tag.removeEventListener(eventName, eventListener, eventOptions);\n            });\n            break;\n        }\n        return [eventName, callbackName, argList];\n      });\n      tag.removeAttribute('cv-on');\n      return tag;\n    }\n  }, {\n    key: \"mapLinkTag\",\n    value: function mapLinkTag(tag) {\n      /*/\n      const tagCompiler = this.compileLinkTag(tag);\n      \tconst newTag = tagCompiler(this);\n      \ttag.replaceWith(newTag);\n      \treturn newTag;\n      /*/\n\n      var linkAttr = tag.getAttribute('cv-link');\n      tag.setAttribute('href', linkAttr);\n      var linkClick = function linkClick(event) {\n        event.preventDefault();\n        if (linkAttr.substring(0, 4) === 'http' || linkAttr.substring(0, 2) === '//') {\n          window.open(tag.getAttribute('href', linkAttr));\n          return;\n        }\n        _Router.Router.go(tag.getAttribute('href'));\n      };\n      tag.addEventListener('click', linkClick);\n      this.onRemove(function (tag, eventListener) {\n        return function () {\n          tag.removeEventListener('click', eventListener);\n          tag = undefined;\n          eventListener = undefined;\n        };\n      }(tag, linkClick));\n      tag.removeAttribute('cv-link');\n      return tag;\n      //*/\n    }\n  }, {\n    key: \"compileLinkTag\",\n    value: function compileLinkTag(sourceTag) {\n      var linkAttr = sourceTag.getAttribute('cv-link');\n      sourceTag.removeAttribute('cv-link');\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode(true);\n        tag.setAttribute('href', linkAttr);\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapPrendererTag\",\n    value: function mapPrendererTag(tag) {\n      var prerenderAttr = tag.getAttribute('cv-prerender');\n      var prerendering = window.prerenderer || navigator.userAgent.match(/prerender/i);\n      if (prerendering) {\n        window.prerenderer = window.prerenderer || true;\n      }\n      if (prerenderAttr === 'never' && prerendering || prerenderAttr === 'only' && !prerendering) {\n        tag.parentNode.removeChild(tag);\n      }\n      return tag;\n    }\n  }, {\n    key: \"mapWithTag\",\n    value: function mapWithTag(tag) {\n      var _this10 = this;\n      var withAttr = tag.getAttribute('cv-with');\n      var carryAttr = tag.getAttribute('cv-carry');\n      var viewAttr = tag.getAttribute('cv-view');\n      tag.removeAttribute('cv-with');\n      tag.removeAttribute('cv-carry');\n      tag.removeAttribute('cv-view');\n      var viewClass = viewAttr ? this.stringToClass(viewAttr) : View;\n      var subTemplate = new DocumentFragment();\n      _toConsumableArray(tag.childNodes).forEach(function (n) {\n        return subTemplate.appendChild(n);\n      });\n      var carryProps = [];\n      if (carryAttr) {\n        carryProps = carryAttr.split(',').map(function (s) {\n          return s.trim();\n        });\n      }\n      var debind = this.args.bindTo(withAttr, function (v, k, t, d) {\n        if (_this10.withViews.has(tag)) {\n          _this10.withViews[\"delete\"](tag);\n        }\n        while (tag.firstChild) {\n          tag.removeChild(tag.firstChild);\n        }\n        var view = new viewClass({}, _this10);\n        _this10.onRemove(function (view) {\n          return function () {\n            view.remove();\n          };\n        }(view));\n        view.template = subTemplate;\n        var _loop8 = function _loop8() {\n          var debind = _this10.args.bindTo(carryProps[i], function (v, k) {\n            view.args[k] = v;\n          });\n          view.onRemove(debind);\n          _this10.onRemove(function () {\n            debind();\n            view.remove();\n          });\n        };\n        for (var i in carryProps) {\n          _loop8();\n        }\n        var _loop9 = function _loop9() {\n          if (_typeof(v) !== 'object') {\n            return \"continue\";\n          }\n          v = _Bindable.Bindable.make(v);\n          var debind = v.bindTo(_i5, function (vv, kk, tt, dd) {\n            if (!dd) {\n              view.args[kk] = vv;\n            } else if (kk in view.args) {\n              delete view.args[kk];\n            }\n          });\n          var debindUp = view.args.bindTo(_i5, function (vv, kk, tt, dd) {\n            if (!dd) {\n              v[kk] = vv;\n            } else if (kk in v) {\n              delete v[kk];\n            }\n          });\n          _this10.onRemove(function () {\n            debind();\n            if (!v.isBound()) {\n              _Bindable.Bindable.clearBindings(v);\n            }\n            view.remove();\n          });\n          view.onRemove(function () {\n            debind();\n            if (!v.isBound()) {\n              _Bindable.Bindable.clearBindings(v);\n            }\n          });\n        };\n        for (var _i5 in v) {\n          var _ret6 = _loop9();\n          if (_ret6 === \"continue\") continue;\n        }\n        view.render(tag);\n        _this10.withViews.set(tag, view);\n      });\n      this.onRemove(function () {\n        _this10.withViews[\"delete\"](tag);\n        debind();\n      });\n      return tag;\n    }\n  }, {\n    key: \"mapViewTag\",\n    value: function mapViewTag(tag) {\n      var _this11 = this;\n      var viewAttr = tag.getAttribute('cv-view');\n      tag.removeAttribute('cv-view');\n      var subTemplate = new DocumentFragment();\n      _toConsumableArray(tag.childNodes).forEach(function (n) {\n        return subTemplate.appendChild(n);\n      });\n      var parts = viewAttr.split(':');\n      var viewClass = parts.pop() ? this.stringToClass(viewAttr) : View;\n      var viewName = parts.shift();\n      var view = new viewClass(this.args, this);\n      this.views.set(tag, view);\n      if (viewName) {\n        this.views.set(viewName, view);\n      }\n      this.onRemove(function (view) {\n        return function () {\n          view.remove();\n          _this11.views[\"delete\"](tag);\n          _this11.views[\"delete\"](viewName);\n        };\n      }(view));\n      view.template = subTemplate;\n      view.render(tag);\n      return tag;\n    }\n  }, {\n    key: \"mapEachTag\",\n    value: function mapEachTag(tag) {\n      var _this12 = this;\n      var eachAttr = tag.getAttribute('cv-each');\n      var viewAttr = tag.getAttribute('cv-view');\n      tag.removeAttribute('cv-each');\n      tag.removeAttribute('cv-view');\n      var viewClass = viewAttr ? this.stringToClass(viewAttr) : View;\n      var subTemplate = new DocumentFragment();\n      _toConsumableArray(tag.childNodes).forEach(function (n) {\n        return subTemplate.appendChild(n);\n      });\n      var _eachAttr$split = eachAttr.split(':'),\n        _eachAttr$split2 = _slicedToArray(_eachAttr$split, 3),\n        eachProp = _eachAttr$split2[0],\n        asProp = _eachAttr$split2[1],\n        keyProp = _eachAttr$split2[2];\n      var proxy = this.args;\n      var property = eachProp;\n      if (eachProp.match(/\\./)) {\n        var _Bindable$resolve11 = _Bindable.Bindable.resolve(this.args, eachProp, true);\n        var _Bindable$resolve12 = _slicedToArray(_Bindable$resolve11, 2);\n        proxy = _Bindable$resolve12[0];\n        property = _Bindable$resolve12[1];\n      }\n      var debind = proxy.bindTo(property, function (v, k, t, d, p) {\n        if (v instanceof _Bag.Bag) {\n          v = v.list;\n        }\n        if (_this12.viewLists.has(tag)) {\n          _this12.viewLists.get(tag).remove();\n        }\n        var viewList = new _ViewList.ViewList(subTemplate, asProp, v, _this12, keyProp, viewClass);\n        var viewListRemover = function viewListRemover() {\n          return viewList.remove();\n        };\n        _this12.onRemove(viewListRemover);\n        viewList.onRemove(function () {\n          return _this12._onRemove.remove(viewListRemover);\n        });\n        var debindA = _this12.args.bindTo(function (v, k, t, d) {\n          if (k === '_id') {\n            return;\n          }\n          if (!d) {\n            viewList.subArgs[k] = v;\n          } else {\n            if (k in viewList.subArgs) {\n              delete viewList.subArgs[k];\n            }\n          }\n        });\n        var debindB = viewList.args.bindTo(function (v, k, t, d, p) {\n          if (k === '_id' || k === 'value' || String(k).substring(0, 3) === '___') {\n            return;\n          }\n          if (!d) {\n            if (k in _this12.args) {\n              _this12.args[k] = v;\n            }\n          } else {\n            delete _this12.args[k];\n          }\n        });\n        viewList.onRemove(debindA);\n        viewList.onRemove(debindB);\n        _this12.onRemove(debindA);\n        _this12.onRemove(debindB);\n        while (tag.firstChild) {\n          tag.removeChild(tag.firstChild);\n        }\n        _this12.viewLists.set(tag, viewList);\n        viewList.render(tag);\n      });\n      this.onRemove(debind);\n      return tag;\n    }\n  }, {\n    key: \"mapIfTag\",\n    value: function mapIfTag(tag) {\n      var _this13 = this;\n      var sourceTag = tag;\n      var viewProperty = sourceTag.getAttribute('cv-view');\n      var ifProperty = sourceTag.getAttribute('cv-if');\n      var isProperty = sourceTag.getAttribute('cv-is');\n      var inverted = false;\n      var defined = false;\n      sourceTag.removeAttribute('cv-view');\n      sourceTag.removeAttribute('cv-if');\n      sourceTag.removeAttribute('cv-is');\n      var viewClass = viewProperty ? this.stringToClass(viewProperty) : View;\n      if (ifProperty.substr(0, 1) === '!') {\n        ifProperty = ifProperty.substr(1);\n        inverted = true;\n      }\n      if (ifProperty.substr(0, 1) === '?') {\n        ifProperty = ifProperty.substr(1);\n        defined = true;\n      }\n      var subTemplate = new DocumentFragment();\n      _toConsumableArray(sourceTag.childNodes).forEach(function (n) {\n        return subTemplate.appendChild(n);\n      });\n      var bindingView = this;\n      var ifDoc = new DocumentFragment();\n      var view = new viewClass(Object.assign({}, this.args), bindingView);\n      view.tags.bindTo(function (v, k) {\n        return _this13.tags[k] = v;\n      }, {\n        removeWith: this\n      });\n      view.template = subTemplate;\n      var proxy = bindingView.args;\n      var property = ifProperty;\n      if (ifProperty.match(/\\./)) {\n        var _Bindable$resolve13 = _Bindable.Bindable.resolve(bindingView.args, ifProperty, true);\n        var _Bindable$resolve14 = _slicedToArray(_Bindable$resolve13, 2);\n        proxy = _Bindable$resolve14[0];\n        property = _Bindable$resolve14[1];\n      }\n      view.render(ifDoc);\n      var propertyDebind = proxy.bindTo(property, function (v, k) {\n        var o = v;\n        if (defined) {\n          v = v !== null && v !== undefined;\n        }\n        if (v instanceof _Bag.Bag) {\n          v = v.list;\n        }\n        if (Array.isArray(v)) {\n          v = !!v.length;\n        }\n        if (isProperty !== null) {\n          v = o == isProperty;\n        }\n        if (inverted) {\n          v = !v;\n        }\n        if (v) {\n          tag.appendChild(ifDoc);\n          _toConsumableArray(ifDoc.childNodes).forEach(function (node) {\n            return _Dom.Dom.mapTags(node, false, function (tag, walker) {\n              if (!tag.matches) {\n                return;\n              }\n              tag.dispatchEvent(new CustomEvent('cvDomAttached', {\n                target: tag,\n                detail: {\n                  view: view || _this13,\n                  mainView: _this13\n                }\n              }));\n            });\n          });\n        } else {\n          view.nodes.forEach(function (n) {\n            return ifDoc.appendChild(n);\n          });\n          _Dom.Dom.mapTags(ifDoc, false, function (tag, walker) {\n            if (!tag.matches) {\n              return;\n            }\n            new CustomEvent('cvDomDetached', {\n              target: tag,\n              detail: {\n                view: view || _this13,\n                mainView: _this13\n              }\n            });\n          });\n        }\n      }, {\n        children: Array.isArray(proxy[property])\n      });\n\n      // const propertyDebind = this.args.bindChain(property, onUpdate);\n\n      bindingView.onRemove(propertyDebind);\n      var debindA = this.args.bindTo(function (v, k, t, d) {\n        if (k === '_id') {\n          return;\n        }\n        if (!d) {\n          view.args[k] = v;\n        } else if (k in view.args) {\n          delete view.args[k];\n        }\n      });\n      var debindB = view.args.bindTo(function (v, k, t, d, p) {\n        if (k === '_id' || String(k).substring(0, 3) === '___') {\n          return;\n        }\n        if (k in _this13.args) {\n          if (!d) {\n            _this13.args[k] = v;\n          } else {\n            delete _this13.args[k];\n          }\n        }\n      });\n      var viewDebind = function viewDebind() {\n        propertyDebind();\n        debindA();\n        debindB();\n        bindingView._onRemove.remove(propertyDebind);\n        // bindingView._onRemove.remove(bindableDebind);\n      };\n\n      bindingView.onRemove(viewDebind);\n      this.onRemove(function () {\n        debindA();\n        debindB();\n        view.remove();\n        if (bindingView !== _this13) {\n          bindingView.remove();\n        }\n      });\n      return tag;\n    }\n  }, {\n    key: \"compileIfTag\",\n    value: function compileIfTag(sourceTag) {\n      var ifProperty = sourceTag.getAttribute('cv-if');\n      var inverted = false;\n      sourceTag.removeAttribute('cv-if');\n      if (ifProperty.substr(0, 1) === '!') {\n        ifProperty = ifProperty.substr(1);\n        inverted = true;\n      }\n      var subTemplate = new DocumentFragment();\n      _toConsumableArray(sourceTag.childNodes).forEach(function (n) {\n        return subTemplate.appendChild(n.cloneNode(true));\n      });\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode();\n        var ifDoc = new DocumentFragment();\n        var view = new View({}, bindingView);\n        view.template = subTemplate;\n        // view.parent   = bindingView;\n\n        bindingView.syncBind(view);\n        var proxy = bindingView.args;\n        var property = ifProperty;\n        if (ifProperty.match(/\\./)) {\n          var _Bindable$resolve15 = _Bindable.Bindable.resolve(bindingView.args, ifProperty, true);\n          var _Bindable$resolve16 = _slicedToArray(_Bindable$resolve15, 2);\n          proxy = _Bindable$resolve16[0];\n          property = _Bindable$resolve16[1];\n        }\n        var hasRendered = false;\n        var propertyDebind = proxy.bindTo(property, function (v, k) {\n          if (!hasRendered) {\n            var renderDoc = bindingView.args[property] || inverted ? tag : ifDoc;\n            view.render(renderDoc);\n            hasRendered = true;\n            return;\n          }\n          if (Array.isArray(v)) {\n            v = !!v.length;\n          }\n          if (inverted) {\n            v = !v;\n          }\n          if (v) {\n            tag.appendChild(ifDoc);\n          } else {\n            view.nodes.forEach(function (n) {\n              return ifDoc.appendChild(n);\n            });\n          }\n        });\n\n        // let cleaner = bindingView;\n\n        // while(cleaner.parent)\n        // {\n        // \tcleaner = cleaner.parent;\n        // }\n\n        bindingView.onRemove(propertyDebind);\n        var bindableDebind = function bindableDebind() {\n          if (!proxy.isBound()) {\n            _Bindable.Bindable.clearBindings(proxy);\n          }\n        };\n        var viewDebind = function viewDebind() {\n          propertyDebind();\n          bindableDebind();\n          bindingView._onRemove.remove(propertyDebind);\n          bindingView._onRemove.remove(bindableDebind);\n        };\n        view.onRemove(viewDebind);\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapTemplateTag\",\n    value: function mapTemplateTag(tag) {\n      var templateName = tag.getAttribute('cv-template');\n      tag.removeAttribute('cv-template');\n      this.templates[templateName] = function () {\n        return tag.tagName === 'TEMPLATE' ? tag.content.cloneNode(true) : new DocumentFragment(tag.innerHTML);\n      };\n      this.rendered.then(function () {\n        return tag.remove();\n      });\n      return tag;\n    }\n  }, {\n    key: \"mapSlotTag\",\n    value: function mapSlotTag(tag) {\n      var templateName = tag.getAttribute('cv-slot');\n      var getTemplate = this.templates[templateName];\n      if (!getTemplate) {\n        var parent = this;\n        while (parent) {\n          getTemplate = parent.templates[templateName];\n          if (getTemplate) {\n            break;\n          }\n          parent = this.parent;\n        }\n        if (!getTemplate) {\n          console.error(\"Template \".concat(templateName, \" not found.\"));\n          return;\n        }\n      }\n      var template = getTemplate();\n      tag.removeAttribute('cv-slot');\n      while (tag.firstChild) {\n        tag.firstChild.remove();\n      }\n      tag.appendChild(template);\n      return tag;\n    }\n  }, {\n    key: \"syncBind\",\n    value: function syncBind(subView) {\n      var _this14 = this;\n      var debindA = this.args.bindTo(function (v, k, t, d) {\n        if (k === '_id') {\n          return;\n        }\n        if (subView.args[k] !== v) {\n          subView.args[k] = v;\n        }\n      });\n      var debindB = subView.args.bindTo(function (v, k, t, d, p) {\n        if (k === '_id') {\n          return;\n        }\n        var newRef = v;\n        var oldRef = p;\n        if (newRef instanceof View) {\n          newRef = newRef.___ref___;\n        }\n        if (oldRef instanceof View) {\n          oldRef = oldRef.___ref___;\n        }\n        if (newRef !== oldRef && oldRef instanceof View) {\n          p.remove();\n        }\n        if (k in _this14.args) {\n          _this14.args[k] = v;\n        }\n      });\n      this.onRemove(debindA);\n      this.onRemove(debindB);\n      subView.onRemove(function () {\n        _this14._onRemove.remove(debindA);\n        _this14._onRemove.remove(debindB);\n      });\n    }\n  }, {\n    key: \"postRender\",\n    value: function postRender(parentNode) {}\n  }, {\n    key: \"attached\",\n    value: function attached(parentNode) {}\n  }, {\n    key: \"interpolatable\",\n    value: function interpolatable(str) {\n      return !!String(str).match(this.interpolateRegex);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var _this15 = this;\n      var now = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this.dispatchEvent(new CustomEvent('remove', {\n        detail: {\n          view: this\n        },\n        cancelable: true\n      }))) {\n        return;\n      }\n      var remover = function remover() {\n        for (var i in _this15.tags) {\n          if (Array.isArray(_this15.tags[i])) {\n            _this15.tags[i] && _this15.tags[i].forEach(function (t) {\n              return t.remove();\n            });\n            _this15.tags[i].splice(0);\n          } else {\n            _this15.tags[i] && _this15.tags[i].remove();\n            _this15.tags[i] = undefined;\n          }\n        }\n        for (var _i6 in _this15.nodes) {\n          _this15.nodes[_i6] && _this15.nodes[_i6].dispatchEvent(new Event('cvDomDetached'));\n          _this15.nodes[_i6] && _this15.nodes[_i6].remove();\n          _this15.nodes[_i6] = undefined;\n        }\n        _this15.nodes.splice(0);\n        _this15.firstNode = _this15.lastNode = undefined;\n      };\n      if (now) {\n        remover();\n      } else {\n        requestAnimationFrame(remover);\n      }\n      var callbacks = this._onRemove.items();\n      var _iterator10 = _createForOfIteratorHelper(callbacks),\n        _step10;\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var callback = _step10.value;\n          callback();\n          this._onRemove.remove(callback);\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n      var _iterator11 = _createForOfIteratorHelper(this.cleanup),\n        _step11;\n      try {\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n          var cleanup = _step11.value;\n          cleanup && cleanup();\n        }\n      } catch (err) {\n        _iterator11.e(err);\n      } finally {\n        _iterator11.f();\n      }\n      this.cleanup.length = 0;\n      var _iterator12 = _createForOfIteratorHelper(this.viewLists),\n        _step12;\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var _step12$value = _slicedToArray(_step12.value, 2),\n            tag = _step12$value[0],\n            viewList = _step12$value[1];\n          viewList.remove();\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n      this.viewLists.clear();\n      var _iterator13 = _createForOfIteratorHelper(this.timeouts),\n        _step13;\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var _step13$value = _slicedToArray(_step13.value, 2),\n            _callback3 = _step13$value[0],\n            timeout = _step13$value[1];\n          clearTimeout(timeout.timeout);\n          this.timeouts[\"delete\"](timeout.timeout);\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n      var _iterator14 = _createForOfIteratorHelper(this.intervals),\n        _step14;\n      try {\n        for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n          var interval = _step14.value;\n          clearInterval(interval);\n        }\n      } catch (err) {\n        _iterator14.e(err);\n      } finally {\n        _iterator14.f();\n      }\n      this.intervals.length = 0;\n      var _iterator15 = _createForOfIteratorHelper(this.frames),\n        _step15;\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var frame = _step15.value;\n          frame();\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n      this.frames.length = 0;\n      this.preRuleSet.purge();\n      this.ruleSet.purge();\n      this.removed = true;\n      this.dispatchEvent(new CustomEvent('removed', {\n        detail: {\n          view: this\n        },\n        cancelable: true\n      }));\n    }\n  }, {\n    key: \"findTag\",\n    value: function findTag(selector) {\n      for (var i in this.nodes) {\n        var result = void 0;\n        if (!this.nodes[i].querySelector) {\n          continue;\n        }\n        if (this.nodes[i].matches(selector)) {\n          return new _Tag.Tag(this.nodes[i], this, undefined, undefined, this);\n        }\n        if (result = this.nodes[i].querySelector(selector)) {\n          return new _Tag.Tag(result, this, undefined, undefined, this);\n        }\n      }\n    }\n  }, {\n    key: \"findTags\",\n    value: function findTags(selector) {\n      var _this16 = this;\n      return this.nodes.filter(function (n) {\n        return n.querySelectorAll;\n      }).map(function (n) {\n        return _toConsumableArray(n.querySelectorAll(selector));\n      }).flat().map(function (n) {\n        return new _Tag.Tag(n, _this16, undefined, undefined, _this16);\n      }) || [];\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove(callback) {\n      if (callback instanceof Event) {\n        return;\n      }\n      this._onRemove.add(callback);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"beforeUpdate\",\n    value: function beforeUpdate(args) {}\n  }, {\n    key: \"afterUpdate\",\n    value: function afterUpdate(args) {}\n  }, {\n    key: \"stringTransformer\",\n    value: function stringTransformer(methods) {\n      var _this17 = this;\n      return function (x) {\n        for (var m in methods) {\n          var parent = _this17;\n          var method = methods[m];\n          while (parent && !parent[method]) {\n            parent = parent.parent;\n          }\n          if (!parent) {\n            return;\n          }\n          x = parent[methods[m]](x);\n        }\n        return x;\n      };\n    }\n  }, {\n    key: \"stringToClass\",\n    value: function stringToClass(refClassname) {\n      if (View.refClasses.has(refClassname)) {\n        return View.refClasses.get(refClassname);\n      }\n      var refClassSplit = refClassname.split('/');\n      var refShortClass = refClassSplit[refClassSplit.length - 1];\n      var refClass = require(refClassname);\n      View.refClasses.set(refClassname, refClass[refShortClass]);\n      return refClass[refShortClass];\n    }\n  }, {\n    key: \"preventParsing\",\n    value: function preventParsing(node) {\n      node[dontParse] = true;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.nodes.map(function (n) {\n        return n.outerHTML;\n      }).join(' ');\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(node, eventName, callback, options) {\n      var _this18 = this;\n      if (typeof node === 'string') {\n        options = callback;\n        callback = eventName;\n        eventName = node;\n        node = this;\n      }\n      if (node instanceof View) {\n        return this.listen(node.nodes, eventName, callback, options);\n      }\n      if (Array.isArray(node)) {\n        return node.map(function (n) {\n          return _this18.listen(n, eventName, callback, options);\n        }).forEach(function (r) {\n          return r();\n        });\n      }\n      if (node instanceof _Tag.Tag) {\n        return this.listen(node.element, eventName, callback, options);\n      }\n      node.addEventListener(eventName, callback, options);\n      var remove = function remove() {\n        return node.removeEventListener(eventName, callback, options);\n      };\n      var remover = function remover() {\n        remove();\n        remove = function remove() {};\n      };\n      this.onRemove(function () {\n        return remover();\n      });\n      return remover;\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      for (var n in this.nodes) {\n        this.nodes[n].remove();\n      }\n      return this.nodes;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(template) {\n      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var mainView = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var view = new this(args, mainView);\n      view.template = template;\n      return view;\n    }\n  }, {\n    key: \"isView\",\n    value: function isView() {\n      return View;\n    }\n  }, {\n    key: \"uuid\",\n    value: function uuid() {\n      return new _Uuid.Uuid();\n    }\n  }]);\n  return View;\n}(_Mixin.Mixin[\"with\"](_EventTargetMixin.EventTargetMixin));\nexports.View = View;\nObject.defineProperty(View, 'templates', {\n  value: new Map()\n});\nObject.defineProperty(View, 'refClasses', {\n  value: new Map()\n});\n  })();\n});","\nrequire.register(\"curvature/base/ViewList.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewList = void 0;\nvar _Bindable = require(\"./Bindable\");\nvar _SetMap = require(\"./SetMap\");\nvar _Bag = require(\"./Bag\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ViewList = /*#__PURE__*/function () {\n  function ViewList(template, subProperty, list, parent) {\n    var _this = this;\n    var keyProperty = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    var viewClass = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n    _classCallCheck(this, ViewList);\n    this.removed = false;\n    this.args = _Bindable.Bindable.makeBindable({});\n    this.args.value = _Bindable.Bindable.makeBindable(list || {});\n    this.subArgs = _Bindable.Bindable.makeBindable({});\n    this.views = [];\n    this.cleanup = [];\n    this.viewClass = viewClass;\n    this._onRemove = new _Bag.Bag();\n    this.template = template;\n    this.subProperty = subProperty;\n    this.keyProperty = keyProperty;\n    this.tag = null;\n    this.downDebind = [];\n    this.upDebind = [];\n    this.paused = false;\n    this.parent = parent;\n    this.rendered = new Promise(function (accept, reject) {\n      Object.defineProperty(_this, 'renderComplete', {\n        configurable: false,\n        writable: true,\n        value: accept\n      });\n    });\n    this.willReRender = false;\n    this.args.___before(function (t, e, s, o, a) {\n      if (e == 'bindTo') {\n        return;\n      }\n      _this.paused = true;\n    });\n    this.args.___after(function (t, e, s, o, a) {\n      if (e == 'bindTo') {\n        return;\n      }\n      _this.paused = s.length > 1;\n      _this.reRender();\n    });\n    var debind = this.args.value.bindTo(function (v, k, t, d) {\n      if (_this.paused) {\n        return;\n      }\n      var kk = k;\n      if (_typeof(k) === 'symbol') {\n        return;\n      }\n      if (isNaN(k)) {\n        kk = '_' + k;\n      }\n      if (d) {\n        if (_this.views[kk]) {\n          _this.views[kk].remove();\n        }\n        delete _this.views[kk];\n        for (var i in _this.views) {\n          if (isNaN(i)) {\n            _this.views[i].args[_this.keyProperty] = i.substr(1);\n            continue;\n          }\n          _this.views[i].args[_this.keyProperty] = i;\n        }\n      } else if (!_this.views[kk]) {\n        cancelAnimationFrame(_this.willReRender);\n        _this.willReRender = requestAnimationFrame(function () {\n          _this.reRender();\n        });\n      } else if (_this.views[kk] && _this.views[kk].args) {\n        _this.views[kk].args[_this.keyProperty] = k;\n        _this.views[kk].args[_this.subProperty] = v;\n      }\n    });\n    this._onRemove.add(debind);\n    Object.preventExtensions(this);\n  }\n  _createClass(ViewList, [{\n    key: \"render\",\n    value: function render(tag) {\n      var _this2 = this;\n      var renders = [];\n      var _iterator = _createForOfIteratorHelper(this.views),\n        _step;\n      try {\n        var _loop = function _loop() {\n          var view = _step.value;\n          view.render(tag);\n          renders.push(view.rendered.then(function () {\n            return view;\n          }));\n        };\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.tag = tag;\n      Promise.all(renders).then(function (views) {\n        return _this2.renderComplete(views);\n      });\n      this.parent.dispatchEvent(new CustomEvent('listRendered', {\n        detail: {\n          detail: {\n            key: this.subProperty,\n            value: this.args.value\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender() {\n      var _this3 = this;\n      if (this.paused || !this.tag) {\n        return;\n      }\n      var views = [];\n      var existingViews = new _SetMap.SetMap();\n      for (var i in this.views) {\n        var view = this.views[i];\n        var rawValue = view.args[this.subProperty];\n        existingViews.add(rawValue, view);\n        views[i] = view;\n      }\n      var finalViews = [];\n      var finalViewSet = new Set();\n      this.downDebind.length && this.downDebind.forEach(function (d) {\n        return d && d();\n      });\n      this.upDebind.length && this.upDebind.forEach(function (d) {\n        return d && d();\n      });\n      this.upDebind.length = 0;\n      this.downDebind.length = 0;\n      var minKey = Infinity;\n      var anteMinKey = Infinity;\n      var _loop2 = function _loop2() {\n        var found = false;\n        var k = _i;\n        if (isNaN(k)) {\n          k = '_' + _i;\n        } else if (String(k).length) {\n          k = Number(k);\n        }\n        if (_this3.args.value[_i] !== undefined && existingViews.has(_this3.args.value[_i])) {\n          var existingView = existingViews.getOne(_this3.args.value[_i]);\n          if (existingView) {\n            existingView.args[_this3.keyProperty] = _i;\n            finalViews[k] = existingView;\n            finalViewSet.add(existingView);\n            found = true;\n            if (!isNaN(k)) {\n              minKey = Math.min(minKey, k);\n              k > 0 && (anteMinKey = Math.min(anteMinKey, k));\n            }\n            existingViews.remove(_this3.args.value[_i], existingView);\n          }\n        }\n        if (!found) {\n          var viewArgs = {};\n          var _view = finalViews[k] = new _this3.viewClass(viewArgs, _this3.parent);\n          if (!isNaN(k)) {\n            minKey = Math.min(minKey, k);\n            k > 0 && (anteMinKey = Math.min(anteMinKey, k));\n          }\n          finalViews[k].template = _this3.template;\n          finalViews[k].viewList = _this3;\n          finalViews[k].args[_this3.keyProperty] = _i;\n          finalViews[k].args[_this3.subProperty] = _this3.args.value[_i];\n          _this3.upDebind[k] = viewArgs.bindTo(_this3.subProperty, function (v, k, t, d) {\n            var index = viewArgs[_this3.keyProperty];\n            if (d) {\n              delete _this3.args.value[index];\n              return;\n            }\n            _this3.args.value[index] = v;\n          });\n          _this3.downDebind[k] = _this3.subArgs.bindTo(function (v, k, t, d) {\n            if (d) {\n              delete viewArgs[k];\n              return;\n            }\n            viewArgs[k] = v;\n          });\n          var upDebind = function upDebind() {\n            _this3.upDebind.filter(function (x) {\n              return x;\n            }).forEach(function (d) {\n              return d();\n            });\n            _this3.upDebind.length = 0;\n          };\n          var downDebind = function downDebind() {\n            _this3.downDebind.filter(function (x) {\n              return x;\n            }).forEach(function (d) {\n              return d();\n            });\n            _this3.downDebind.length = 0;\n          };\n          _view.onRemove(function () {\n            _this3._onRemove.remove(upDebind);\n            _this3._onRemove.remove(downDebind);\n            _this3.upDebind[k] && _this3.upDebind[k]();\n            _this3.downDebind[k] && _this3.downDebind[k]();\n            delete _this3.upDebind[k];\n            delete _this3.downDebind[k];\n          });\n          _this3._onRemove.add(upDebind);\n          _this3._onRemove.add(downDebind);\n          viewArgs[_this3.subProperty] = _this3.args.value[_i];\n        }\n      };\n      for (var _i in this.args.value) {\n        _loop2();\n      }\n      for (var _i2 in views) {\n        if (!finalViewSet.has(views[_i2])) {\n          views[_i2].remove();\n        }\n      }\n      if (Array.isArray(this.args.value)) {\n        var localMin = minKey === 0 && finalViews[1] !== undefined && finalViews.length > 1 || anteMinKey === Infinity ? minKey : anteMinKey;\n        var renderRecurse = function renderRecurse() {\n          var i = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var ii = finalViews.length - i - 1;\n          while (ii > localMin && finalViews[ii] === undefined) {\n            ii--;\n          }\n          if (ii < localMin) {\n            return Promise.resolve();\n          }\n          if (finalViews[ii] === _this3.views[ii]) {\n            if (finalViews[ii] && !finalViews[ii].firstNode) {\n              finalViews[ii].render(_this3.tag, finalViews[ii + 1]);\n              return finalViews[ii].rendered.then(function () {\n                return renderRecurse(Number(i) + 1);\n              });\n            } else {\n              var split = 500;\n              if (i === 0 || i % split) {\n                return renderRecurse(Number(i) + 1);\n              } else {\n                return new Promise(function (accept) {\n                  return requestAnimationFrame(function () {\n                    return accept(renderRecurse(Number(i) + 1));\n                  });\n                });\n              }\n            }\n          }\n          finalViews[ii].render(_this3.tag, finalViews[ii + 1]);\n          _this3.views.splice(ii, 0, finalViews[ii]);\n          return finalViews[ii].rendered.then(function () {\n            return renderRecurse(i + 1);\n          });\n        };\n        this.rendered = renderRecurse();\n      } else {\n        var renders = [];\n        var leftovers = Object.assign({}, finalViews);\n        var isInt = function isInt(x) {\n          return parseInt(x) === x - 0;\n        };\n        var keys = Object.keys(finalViews).sort(function (a, b) {\n          if (isInt(a) && isInt(b)) {\n            return Math.sign(a - b);\n          }\n          if (!isInt(a) && !isInt(b)) {\n            return 0;\n          }\n          if (!isInt(a) && isInt(b)) {\n            return -1;\n          }\n          if (isInt(a) && !isInt(b)) {\n            return 1;\n          }\n        });\n        var _iterator2 = _createForOfIteratorHelper(keys),\n          _step2;\n        try {\n          var _loop3 = function _loop3() {\n            var i = _step2.value;\n            delete leftovers[i];\n            if (finalViews[i].firstNode && finalViews[i] === _this3.views[i]) {\n              return \"continue\";\n            }\n            finalViews[i].render(_this3.tag);\n            renders.push(finalViews[i].rendered.then(function () {\n              return finalViews[i];\n            }));\n          };\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _ret = _loop3();\n            if (_ret === \"continue\") continue;\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        for (var _i3 in leftovers) {\n          delete this.args.views[_i3];\n          leftovers.remove();\n        }\n        this.rendered = Promise.all(renders);\n      }\n      for (var _i4 in finalViews) {\n        if (isNaN(_i4)) {\n          finalViews[_i4].args[this.keyProperty] = _i4.substr(1);\n          continue;\n        }\n        finalViews[_i4].args[this.keyProperty] = _i4;\n      }\n      this.views = Array.isArray(this.args.value) ? [].concat(finalViews) : finalViews;\n      finalViewSet.clear();\n      this.willReRender = false;\n      this.rendered.then(function () {\n        _this3.parent.dispatchEvent(new CustomEvent('listRendered', {\n          detail: {\n            detail: {\n              key: _this3.subProperty,\n              value: _this3.args.value,\n              tag: _this3.tag\n            }\n          }\n        }));\n        _this3.tag.dispatchEvent(new CustomEvent('listRendered', {\n          detail: {\n            detail: {\n              key: _this3.subProperty,\n              value: _this3.args.value,\n              tag: _this3.tag\n            }\n          }\n        }));\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _pause = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      for (var i in this.views) {\n        this.views[i].pause(_pause);\n      }\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove(callback) {\n      this._onRemove.add(callback);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      for (var i in this.views) {\n        this.views[i].remove();\n      }\n      var onRemove = this._onRemove.items();\n      for (var _i5 in onRemove) {\n        this._onRemove.remove(onRemove[_i5]);\n        onRemove[_i5]();\n      }\n      var cleanup;\n      while (this.cleanup.length) {\n        cleanup = this.cleanup.pop();\n        cleanup();\n      }\n      this.views = [];\n      while (this.tag && this.tag.firstChild) {\n        this.tag.removeChild(this.tag.firstChild);\n      }\n      if (this.subArgs) {\n        _Bindable.Bindable.clearBindings(this.subArgs);\n      }\n      _Bindable.Bindable.clearBindings(this.args);\n      if (this.args.value && !this.args.value.isBound()) {\n        _Bindable.Bindable.clearBindings(this.args.value);\n      }\n      this.removed = true;\n    }\n  }]);\n  return ViewList;\n}();\nexports.ViewList = ViewList;\n  })();\n});","\nrequire.register(\"curvature/input/Axis.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Axis = void 0;\nvar _Bindable = require(\"../base/Bindable\");\nvar _Bindable$NoGetters;\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n_Bindable$NoGetters = _Bindable.Bindable.NoGetters;\nvar Axis = /*#__PURE__*/function () {\n  function Axis(_ref) {\n    var _ref$deadZone = _ref.deadZone,\n      deadZone = _ref$deadZone === void 0 ? 0 : _ref$deadZone,\n      _ref$proportional = _ref.proportional,\n      proportional = _ref$proportional === void 0 ? true : _ref$proportional;\n    _classCallCheck(this, Axis);\n    _defineProperty(this, _Bindable$NoGetters, true);\n    _defineProperty(this, \"magnitude\", 0);\n    _defineProperty(this, \"delta\", 0);\n    this.proportional = proportional;\n    this.deadZone = deadZone;\n  }\n  _createClass(Axis, [{\n    key: \"tilt\",\n    value: function tilt(magnitude) {\n      if (this.deadZone && Math.abs(magnitude) >= this.deadZone) {\n        magnitude = (Math.abs(magnitude) - this.deadZone) / (1 - this.deadZone) * Math.sign(magnitude);\n      } else if (this.deadZone && Math.abs(magnitude) < this.deadZone) {\n        magnitude = 0;\n      }\n      this.delta = Number(magnitude - this.magnitude).toFixed(3) - 0;\n      this.magnitude = Number(magnitude).toFixed(3) - 0;\n    }\n  }, {\n    key: \"zero\",\n    value: function zero() {\n      this.magnitude = this.delta = 0;\n    }\n  }]);\n  return Axis;\n}();\nexports.Axis = Axis;\n  })();\n});","\nrequire.register(\"curvature/input/Button.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Button = void 0;\nvar _Bindable = require(\"../base/Bindable\");\nvar _Bindable$NoGetters;\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n_Bindable$NoGetters = _Bindable.Bindable.NoGetters;\nvar Button = /*#__PURE__*/function () {\n  function Button() {\n    _classCallCheck(this, Button);\n    _defineProperty(this, _Bindable$NoGetters, true);\n    _defineProperty(this, \"active\", false);\n    _defineProperty(this, \"pressure\", 0);\n    _defineProperty(this, \"delta\", 0);\n    _defineProperty(this, \"time\", 0);\n  }\n  _createClass(Button, [{\n    key: \"update\",\n    value: function update() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (this.pressure) {\n        this.time++;\n      } else if (!this.pressure && this.time > 0) {\n        this.time = -1;\n      } else if (!this.pressure && this.time < 0) {\n        this.time--;\n      }\n      if (this.time < -1 && this.delta === -1) {\n        this.delta = 0;\n      }\n    }\n  }, {\n    key: \"press\",\n    value: function press(pressure) {\n      this.delta = Number(pressure - this.pressure).toFixed(3) - 0;\n      this.pressure = Number(pressure).toFixed(3) - 0;\n      this.active = true;\n      this.time = this.time > 0 ? this.time : 0;\n    }\n  }, {\n    key: \"release\",\n    value: function release() {\n      if (!this.active) {\n        return;\n      }\n      this.delta = Number(-this.pressure).toFixed(3) - 0;\n      this.pressure = 0;\n      this.active = false;\n    }\n  }, {\n    key: \"zero\",\n    value: function zero() {\n      this.pressure = this.delta = 0;\n      this.active = false;\n    }\n  }]);\n  return Button;\n}();\nexports.Button = Button;\n  })();\n});","\nrequire.register(\"curvature/input/Gamepad.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Gamepad = void 0;\nvar _Bindable = require(\"../base/Bindable\");\nvar _Mixin = require(\"../base/Mixin\");\nvar _EventTargetMixin = require(\"../mixin/EventTargetMixin\");\nvar _Axis = require(\"./Axis\");\nvar _Button = require(\"./Button\");\nvar _Bindable$NoGetters;\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar keys = {\n  'Space': 0,\n  'Enter': 0,\n  'NumpadEnter': 0,\n  'ControlLeft': 1,\n  'ControlRight': 1,\n  'ShiftLeft': 2,\n  'ShiftRight': 2,\n  'KeyZ': 3,\n  'KeyQ': 4,\n  'KeyE': 5,\n  'Digit1': 6,\n  'Digit3': 7,\n  'KeyW': 12,\n  'KeyA': 14,\n  'KeyS': 13,\n  'KeyD': 15,\n  'KeyH': 112,\n  'KeyJ': 113,\n  'KeyK': 114,\n  'KeyL': 115,\n  'KeyP': 9,\n  'Pause': 9,\n  'Tab': 11,\n  'ArrowUp': 12,\n  'ArrowDown': 13,\n  'ArrowLeft': 14,\n  'ArrowRight': 15,\n  'Numpad4': 112,\n  'Numpad2': 113,\n  'Numpad8': 114,\n  'Numpad6': 115,\n  'Backquote': 1010,\n  'NumpadAdd': 1011,\n  'NumpadSubtract': 1012,\n  'NumpadMultiply': 1013,\n  'NumpadDivide': 1014,\n  'Escape': 1020\n};\n_toConsumableArray(Array(12)).map(function (x, fn) {\n  return keys[\"F\".concat(fn)] = 2000 + fn;\n});\n_Bindable$NoGetters = _Bindable.Bindable.NoGetters;\nvar Gamepad = /*#__PURE__*/function (_Mixin$with) {\n  _inherits(Gamepad, _Mixin$with);\n  var _super = _createSuper(Gamepad);\n  function Gamepad() {\n    var _this;\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$keys = _ref.keys,\n      keys = _ref$keys === void 0 ? {} : _ref$keys,\n      _ref$deadZone = _ref.deadZone,\n      deadZone = _ref$deadZone === void 0 ? 0 : _ref$deadZone,\n      _ref$gamepad = _ref.gamepad,\n      gamepad = _ref$gamepad === void 0 ? null : _ref$gamepad,\n      _ref$keyboard = _ref.keyboard,\n      keyboard = _ref$keyboard === void 0 ? null : _ref$keyboard,\n      _ref$axisMap = _ref.axisMap,\n      axisMap = _ref$axisMap === void 0 ? null : _ref$axisMap;\n    _classCallCheck(this, Gamepad);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), _Bindable$NoGetters, true);\n    _defineProperty(_assertThisInitialized(_this), \"axisMap\", {\n      12: -1,\n      13: +1,\n      14: -0,\n      15: +0,\n      112: -2,\n      113: +3,\n      114: -3,\n      115: +2\n    });\n    _this.deadZone = deadZone;\n    _this.gamepad = gamepad;\n    _this.index = gamepad.index;\n    _this.id = gamepad.id;\n    _this.axisMap = axisMap || _this.axisMap;\n    Object.defineProperties(_assertThisInitialized(_this), {\n      buttons: {\n        value: {}\n      },\n      pressure: {\n        value: {}\n      },\n      axes: {\n        value: {}\n      },\n      keys: {\n        value: {}\n      }\n    });\n    return _this;\n  }\n  _createClass(Gamepad, [{\n    key: \"update\",\n    value: function update() {\n      for (var i in this.buttons) {\n        var button = this.buttons[i];\n        button.update();\n      }\n    }\n  }, {\n    key: \"rumbleEffect\",\n    value: function rumbleEffect(options) {\n      return this.gamepad.vibrationActuator.playEffect(\"dual-rumble\", options);\n    }\n  }, {\n    key: \"rumble\",\n    value: function rumble() {\n      if (this.gamepad.vibrationActuator.pulse) {\n        var _this$gamepad$vibrati;\n        return (_this$gamepad$vibrati = this.gamepad.vibrationActuator).pulse.apply(_this$gamepad$vibrati, arguments);\n      } else {\n        this.rumbleEffect({\n          duration: 1000,\n          strongMagnitude: 1.0,\n          weakMagnitude: 1.0\n        });\n      }\n    }\n  }, {\n    key: \"readInput\",\n    value: function readInput() {\n      if (!this.gamepad) {\n        return;\n      }\n      var index = String(this.gamepad.index);\n      var stat = this.constructor;\n      if (!stat.padsRead.has(index)) {\n        stat.padsRead = new Map(Object.entries(navigator.getGamepads()));\n      }\n      var gamepad = this.gamepad = stat.padsRead.get(index);\n      stat.padsRead[\"delete\"](index);\n      var pressed = {};\n      var released = {};\n      if (gamepad) {\n        for (var i in gamepad.buttons) {\n          var button = gamepad.buttons[i];\n          if (button.pressed) {\n            this.press(i, button.value);\n            pressed[i] = true;\n          }\n        }\n      }\n      if (this.keyboard) {\n        for (var _i in _toConsumableArray(Array(10))) {\n          if (pressed[_i]) {\n            continue;\n          }\n          if (this.keyboard.getKeyCode(_i) > 0) {\n            this.press(_i, 1);\n            pressed[_i] = true;\n          }\n        }\n        for (var keycode in keys) {\n          if (pressed[keycode]) {\n            continue;\n          }\n          var buttonId = keys[keycode];\n          if (this.keyboard.getKeyCode(keycode) > 0) {\n            this.press(buttonId, 1);\n            pressed[buttonId] = true;\n          }\n        }\n      }\n      if (gamepad) {\n        for (var _i2 in gamepad.buttons) {\n          if (pressed[_i2]) {\n            continue;\n          }\n          var _button = gamepad.buttons[_i2];\n          if (!_button.pressed) {\n            this.release(_i2);\n            released[_i2] = true;\n          }\n        }\n      }\n      if (this.keyboard) {\n        for (var _i3 in _toConsumableArray(Array(10))) {\n          if (released[_i3]) {\n            continue;\n          }\n          if (pressed[_i3]) {\n            continue;\n          }\n          if (this.keyboard.getKeyCode(_i3) < 0) {\n            this.release(_i3);\n            released[_i3] = true;\n          }\n        }\n        for (var _keycode in keys) {\n          var _buttonId = keys[_keycode];\n          if (released[_buttonId]) {\n            continue;\n          }\n          if (pressed[_buttonId]) {\n            continue;\n          }\n          if (this.keyboard.getKeyCode(_keycode) < 0) {\n            this.release(_buttonId);\n            released[_keycode] = true;\n          }\n        }\n      }\n      var tilted = {};\n      if (gamepad) {\n        for (var _i4 in gamepad.axes) {\n          var axis = gamepad.axes[_i4];\n          tilted[_i4] = true;\n          this.tilt(_i4, axis);\n        }\n      }\n      for (var inputId in this.axisMap) {\n        if (!this.buttons[inputId]) {\n          this.buttons[inputId] = new _Button.Button();\n        }\n        var _axis = this.axisMap[inputId];\n        var value = Math.sign(1 / _axis);\n        var axisId = Math.abs(_axis);\n        if (this.buttons[inputId].active) {\n          tilted[axisId] = true;\n          this.tilt(axisId, value);\n        } else if (!tilted[axisId]) {\n          this.tilt(axisId, 0);\n        }\n      }\n    }\n  }, {\n    key: \"tilt\",\n    value: function tilt(axisId, magnitude) {\n      if (!this.axes[axisId]) {\n        this.axes[axisId] = new _Axis.Axis({\n          deadZone: this.deadZone\n        });\n      }\n      this.axes[axisId].tilt(magnitude);\n    }\n  }, {\n    key: \"press\",\n    value: function press(buttonId) {\n      var pressure = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      if (!this.buttons[buttonId]) {\n        this.buttons[buttonId] = new _Button.Button();\n      }\n      this.buttons[buttonId].press(pressure);\n    }\n  }, {\n    key: \"release\",\n    value: function release(buttonId) {\n      if (!this.buttons[buttonId]) {\n        this.buttons[buttonId] = new _Button.Button();\n      }\n      this.buttons[buttonId].release();\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize() {\n      var buttons = {};\n      for (var i in this.buttons) {\n        buttons[i] = this.buttons[i].pressure;\n      }\n      var axes = {};\n      for (var _i5 in this.axes) {\n        axes[_i5] = this.axes[_i5].magnitude;\n      }\n      return {\n        axes: axes,\n        buttons: buttons\n      };\n    }\n  }, {\n    key: \"replay\",\n    value: function replay(input) {\n      if (input.buttons) {\n        for (var i in input.buttons) {\n          if (input.buttons[i] > 0) {\n            this.press(i, input.buttons[i]);\n          } else {\n            this.release(i);\n          }\n        }\n      }\n      if (input.axes) {\n        for (var _i6 in input.axes) {\n          if (input.axes[_i6].magnitude !== input.axes[_i6]) {\n            this.tilt(_i6, input.axes[_i6]);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"zero\",\n    value: function zero() {\n      for (var i in this.axes) {\n        this.axes[i].zero();\n      }\n      for (var _i7 in this.buttons) {\n        this.buttons[_i7].zero();\n      }\n    }\n  }], [{\n    key: \"getPad\",\n    value: function getPad(_ref2) {\n      var _this2 = this;\n      var _ref2$index = _ref2.index,\n        index = _ref2$index === void 0 ? undefined : _ref2$index,\n        _ref2$deadZone = _ref2.deadZone,\n        deadZone = _ref2$deadZone === void 0 ? 0 : _ref2$deadZone,\n        _ref2$keys = _ref2.keys,\n        keys = _ref2$keys === void 0 ? {} : _ref2$keys,\n        _ref2$keyboard = _ref2.keyboard,\n        keyboard = _ref2$keyboard === void 0 ? null : _ref2$keyboard,\n        _ref2$axisMap = _ref2.axisMap,\n        axisMap = _ref2$axisMap === void 0 ? null : _ref2$axisMap;\n      if (this.padsConnected.has(index)) {\n        return this.padsConnected.get(index);\n      }\n      var waitForPad = new Promise(function (accept) {\n        var registerPad = function registerPad(event) {\n          event.stopImmediatePropagation();\n          var pad = new _this2({\n            gamepad: event.gamepad,\n            deadZone: deadZone,\n            keys: keys,\n            keyboard: keyboard,\n            axisMap: axisMap\n          });\n          _this2.padsConnected.set(event.gamepad.index, waitForPad);\n          accept(pad);\n        };\n        addEventListener('gamepadconnected', registerPad, {\n          once: true\n        });\n      });\n      return waitForPad;\n    }\n  }]);\n  return Gamepad;\n}(_Mixin.Mixin[\"with\"](_EventTargetMixin.EventTargetMixin));\nexports.Gamepad = Gamepad;\n_defineProperty(Gamepad, \"padsConnected\", new Map());\n_defineProperty(Gamepad, \"padsRead\", new Map());\n  })();\n});","\nrequire.register(\"curvature/mixin/EventTargetMixin.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventTargetMixin = void 0;\nvar _Mixin = require(\"../base/Mixin\");\nvar _EventTargetMixin;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar EventTargetParent = Symbol('EventTargetParent');\nvar CallHandler = Symbol('CallHandler');\nvar Capture = Symbol('Capture');\nvar Bubble = Symbol('Bubble');\nvar Target = Symbol('Target');\nvar HandlersBubble = Symbol('HandlersBubble');\nvar HandlersCapture = Symbol('HandlersCapture');\nvar EventTargetMixin = (_EventTargetMixin = {}, _defineProperty(_EventTargetMixin, _Mixin.Mixin.Constructor, function () {\n  this[HandlersCapture] = new Map();\n  this[HandlersBubble] = new Map();\n}), _defineProperty(_EventTargetMixin, \"dispatchEvent\", function dispatchEvent() {\n  var _this = this;\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  var event = args[0];\n  if (typeof event === 'string') {\n    event = new CustomEvent(event);\n    args[0] = event;\n  }\n  event.cvPath = event.cvPath || [];\n  event.cvTarget = event.cvCurrentTarget = this;\n  var result = this[Capture].apply(this, args);\n  if (event.cancelable && (result === false || event.cancelBubble)) {\n    return result;\n  }\n  var handlers = [];\n  if (this[HandlersCapture].has(event.type)) {\n    var handlerMap = this[HandlersCapture].get(event.type);\n    var newHandlers = _toConsumableArray(handlerMap);\n    newHandlers.forEach(function (h) {\n      return h.push(handlerMap);\n    });\n    handlers.push.apply(handlers, _toConsumableArray(newHandlers));\n  }\n  if (this[HandlersBubble].has(event.type)) {\n    var _handlerMap = this[HandlersBubble].get(event.type);\n    var _newHandlers = _toConsumableArray(_handlerMap);\n    _newHandlers.forEach(function (h) {\n      return h.push(_handlerMap);\n    });\n    handlers.push.apply(handlers, _toConsumableArray(_newHandlers));\n  }\n  handlers.push([function () {\n    return _this[CallHandler].apply(_this, args);\n  }, {}, null]);\n  for (var _i = 0, _handlers = handlers; _i < _handlers.length; _i++) {\n    var _handlers$_i = _slicedToArray(_handlers[_i], 3),\n      handler = _handlers$_i[0],\n      options = _handlers$_i[1],\n      map = _handlers$_i[2];\n    if (options.once) {\n      map[\"delete\"](handler);\n    }\n    result = handler(event);\n    if (event.cancelable && result === false) {\n      break;\n    }\n  }\n  if (!event.cancelable || !event.cancelBubble && result !== false) {\n    this[Bubble].apply(this, args);\n  }\n  if (!this[EventTargetParent]) {\n    Object.freeze(event.cvPath);\n  }\n  return event.returnValue;\n}), _defineProperty(_EventTargetMixin, \"addEventListener\", function addEventListener(type, callback) {\n  var _this2 = this;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (options === true) {\n    options = {\n      useCapture: true\n    };\n  }\n  var handlers = HandlersBubble;\n  if (options.useCapture) {\n    handlers = HandlersCapture;\n  }\n  if (!this[handlers].has(type)) {\n    this[handlers].set(type, new Map());\n  }\n  this[handlers].get(type).set(callback, options);\n  if (options.signal) {\n    options.signal.addEventListener('abort', function (event) {\n      return _this2.removeEventListener(type, callback, options);\n    }, {\n      once: true\n    });\n  }\n}), _defineProperty(_EventTargetMixin, \"removeEventListener\", function removeEventListener(type, callback) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (options === true) {\n    options = {\n      useCapture: true\n    };\n  }\n  var handlers = HandlersBubble;\n  if (options.useCapture) {\n    handlers = HandlersCapture;\n  }\n  if (!this[handlers].has(type)) {\n    return;\n  }\n  this[handlers].get(type)[\"delete\"](callback);\n}), _defineProperty(_EventTargetMixin, Capture, function () {\n  var _this$EventTargetPare;\n  var event = arguments.length <= 0 ? undefined : arguments[0];\n  event.cvPath.push(this);\n  if (!this[EventTargetParent]) {\n    return;\n  }\n  var result = (_this$EventTargetPare = this[EventTargetParent])[Capture].apply(_this$EventTargetPare, arguments);\n  if (event.cancelable && (result === false || event.cancelBubble)) {\n    return;\n  }\n  if (!this[EventTargetParent][HandlersCapture].has(event.type)) {\n    return;\n  }\n  event.cvCurrentTarget = this[EventTargetParent];\n  var type = event.type;\n  var handlers = this[EventTargetParent][HandlersCapture].get(type);\n  var _iterator = _createForOfIteratorHelper(handlers),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        handler = _step$value[0],\n        options = _step$value[1];\n      if (options.once) {\n        handlers[\"delete\"](handler);\n      }\n      result = handler(event);\n      if (event.cancelable && (result === false || event.cancelBubble)) {\n        break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return result;\n}), _defineProperty(_EventTargetMixin, Bubble, function () {\n  var _this$EventTargetPare3, _this$EventTargetPare4;\n  var event = arguments.length <= 0 ? undefined : arguments[0];\n  if (!event.bubbles || !this[EventTargetParent] || event.cancelBubble) {\n    return;\n  }\n  if (!this[EventTargetParent][HandlersBubble].has(event.type)) {\n    var _this$EventTargetPare2;\n    return (_this$EventTargetPare2 = this[EventTargetParent])[Bubble].apply(_this$EventTargetPare2, arguments);\n  }\n  var result;\n  event.cvCurrentTarget = this[EventTargetParent];\n  var type = event.type;\n  var handlers = this[EventTargetParent][HandlersBubble].get(event.type);\n  var _iterator2 = _createForOfIteratorHelper(handlers),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _step2$value = _slicedToArray(_step2.value, 2),\n        handler = _step2$value[0],\n        options = _step2$value[1];\n      if (options.once) {\n        handlers[\"delete\"](handler);\n      }\n      result = handler(event);\n      if (event.cancelable && result === false) {\n        return result;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  result = (_this$EventTargetPare3 = this[EventTargetParent])[CallHandler].apply(_this$EventTargetPare3, arguments);\n  if (event.cancelable && (result === false || event.cancelBubble)) {\n    return result;\n  }\n  return (_this$EventTargetPare4 = this[EventTargetParent])[Bubble].apply(_this$EventTargetPare4, arguments);\n}), _defineProperty(_EventTargetMixin, CallHandler, function () {\n  var event = arguments.length <= 0 ? undefined : arguments[0];\n  if (event.defaultPrevented) {\n    return;\n  }\n  var defaultHandler = \"on\".concat(event.type[0].toUpperCase() + event.type.slice(1));\n  if (typeof this[defaultHandler] === 'function') {\n    return this[defaultHandler](event);\n  }\n}), _EventTargetMixin);\nexports.EventTargetMixin = EventTargetMixin;\nObject.defineProperty(EventTargetMixin, 'Parent', {\n  value: EventTargetParent\n});\n  })();\n});","\nrequire.register(\"curvature/mixin/PromiseMixin.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PromiseMixin = void 0;\nvar _Mixin = require(\"../base/Mixin\");\nvar _PromiseMixin;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar _Promise = Symbol('Promise');\nvar Accept = Symbol('Accept');\nvar Reject = Symbol('Reject');\nvar PromiseMixin = (_PromiseMixin = {}, _defineProperty(_PromiseMixin, _Mixin.Mixin.Constructor, function () {\n  var _this = this;\n  this[_Promise] = new Promise(function (accept, reject) {\n    _this[Accept] = accept;\n    _this[Reject] = reject;\n  });\n}), _defineProperty(_PromiseMixin, \"then\", function then() {\n  var _this$_Promise;\n  return (_this$_Promise = this[_Promise]).then.apply(_this$_Promise, arguments);\n}), _defineProperty(_PromiseMixin, \"catch\", function _catch() {\n  var _this$_Promise2;\n  return (_this$_Promise2 = this[_Promise])[\"catch\"].apply(_this$_Promise2, arguments);\n}), _defineProperty(_PromiseMixin, \"finally\", function _finally() {\n  var _this$_Promise3;\n  return (_this$_Promise3 = this[_Promise])[\"finally\"].apply(_this$_Promise3, arguments);\n}), _PromiseMixin);\nexports.PromiseMixin = PromiseMixin;\nObject.defineProperty(PromiseMixin, 'Reject', {\n  value: Reject\n});\nObject.defineProperty(PromiseMixin, 'Accept', {\n  value: Accept\n});\n  })();\n});","import { View } from 'curvature/base/View';\nimport { Gamepad } from 'curvature/input/Gamepad';\n\nexport class ArcType extends View\n{\n\ttemplate = require('./arctype.html');\n\n\tconstructor(args, parent)\n\t{\n\t\tsuper(args, parent);\n\n\t\tconst lower  = [...Array(26)].map((v, k) => String.fromCharCode('a'.charCodeAt(0) + k));\n\t\tconst upper  = [...Array(26)].map((v, k) => String.fromCharCode('A'.charCodeAt(0) + k));\n\t\tconst number = [...Array(10)].map((v, k) => String.fromCharCode('0'.charCodeAt(0) + k));\n\n\t\tconst extraA = '.,\"@:/'.split('');\n\t\tconst extraB = '!?-&;\\\\'.split('');\n\t\tconst extraC = '`*\\'\"-=[]()~:{}<>^|%$#+'.split('');\n\n\t\tconst banks = [[...lower, ...extraA], [...upper, ...extraB], [...number, ...extraC]];\n\n\t\tthis.letters = banks[0];\n\n\t\tthis.args.angle = 'x';\n\n\t\tdocument.addEventListener('keydown', event => {\n\t\t\tif(event.key === 'Enter')\n\t\t\t{\n\t\t\t\tthis.deactivate();\n\t\t\t}\n\n\t\t\tif(event.key === 'Escape')\n\t\t\t{\n\t\t\t\tthis.deactivate(false);\n\t\t\t}\n\t\t});\n\n\t\tGamepad.getPad({deadZone:0.2, axisMap: {}}).then(pad => {\n\t\t\tconst eachFrame = () => {\n\t\t\t\tpad.readInput();\n\n\t\t\t\tif(pad.buttons[4].active && pad.buttons[4].delta)\n\t\t\t\t{\n\t\t\t\t\tthis.tags.buffer.focus()\n\t\t\t\t\tdocument.execCommand('delete', false);\n\t\t\t\t}\n\n\t\t\t\tif(pad.buttons[5].active && pad.buttons[5].delta)\n\t\t\t\t{\n\t\t\t\t\tthis.tags.buffer.focus()\n\t\t\t\t\tdocument.execCommand('insertText', false, ' ');\n\t\t\t\t}\n\n\t\t\t\tif(pad.buttons[10].active && pad.buttons[10].delta)\n\t\t\t\t{\n\t\t\t\t\tthis.tags.buffer.focus()\n\t\t\t\t\tthis.tags.buffer.selectionStart--;\n\t\t\t\t}\n\n\t\t\t\tif(pad.buttons[11].active && pad.buttons[11].delta)\n\t\t\t\t{\n\t\t\t\t\tthis.tags.buffer.focus()\n\t\t\t\t\tthis.tags.buffer.selectionEnd++;\n\t\t\t\t}\n\n\t\t\t\tif(pad.buttons[14].active && pad.buttons[14].delta)\n\t\t\t\t{\n\t\t\t\t\tthis.tags.buffer.focus()\n\t\t\t\t\tthis.tags.buffer.selectionEnd = this.tags.buffer.selectionStart;\n\t\t\t\t\tthis.tags.buffer.selectionStart--;\n\t\t\t\t\tthis.tags.buffer.selectionEnd--;\n\t\t\t\t}\n\n\t\t\t\tif(pad.buttons[15].active && pad.buttons[15].delta)\n\t\t\t\t{\n\t\t\t\t\tthis.tags.buffer.focus()\n\t\t\t\t\tthis.tags.buffer.selectionStart = this.tags.buffer.selectionEnd;\n\t\t\t\t\tthis.tags.buffer.selectionStart++;\n\t\t\t\t}\n\n\t\t\t\tif(pad.buttons[6].active)\n\t\t\t\t{\n\t\t\t\t\tthis.letters = banks[1];\n\t\t\t\t}\n\t\t\t\telse if(pad.buttons[7].active)\n\t\t\t\t{\n\t\t\t\t\tthis.letters = banks[2];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.letters = banks[0];\n\t\t\t\t}\n\n\t\t\t\tif(pad.buttons[8].active || pad.buttons[9].active)\n\t\t\t\t{\n\t\t\t\t\tthis.deactivate();\n\t\t\t\t}\n\n\t\t\t\tthis.setButtons();\n\n\t\t\t\tconst angle = Math.atan2(pad.axes[1].magnitude, pad.axes[0].magnitude) / Math.PI;\n\n\t\t\t\tlet selected = (6 + (Math.round(angle * 4) + 4)) % 8;\n\n\t\t\t\tthis.args.angle = selected;\n\n\t\t\t\tif(!pad.axes[0].magnitude && !pad.axes[1].magnitude)\n\t\t\t\t{\n\t\t\t\t\tthis.args.angle = 'x';\n\t\t\t\t\tselected = undefined;\n\t\t\t\t}\n\n\t\t\t\tconst sectors = this.findTags('.arctype-wing');\n\n\t\t\t\tfor(const i in sectors)\n\t\t\t\t{\n\t\t\t\t\tconst sector = sectors[i];\n\n\t\t\t\t\tif(i !== undefined && Number(i) === selected)\n\t\t\t\t\t{\n\t\t\t\t\t\tsector.classList.add('arctype-selected');\n\n\t\t\t\t\t\tfor(const i of [...Array(4)].keys())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(pad.buttons[i].active && pad.buttons[i].delta)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsector.querySelector(`.arctype-button:nth-child(${i+1})`).click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsector.classList.remove('arctype-selected');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trequestAnimationFrame(eachFrame);\n\n\t\t\t};\n\n\t\t\trequestAnimationFrame(eachFrame);\n\n\t\t});\n\t}\n\n\tonAttach()\n\t{\n\t\tthis.setButtons();\n\t}\n\n\tsetButtons()\n\t{\n\t\tthis.buttons = this.buttons || this.findTags('.arctype-button');\n\n\t\tfor(const i in this.buttons)\n\t\t{\n\t\t\tconst button = this.buttons[i];\n\n\t\t\tbutton.dataset.buttonId = i;\n\n\t\t\tif(i in this.letters)\n\t\t\t{\n\t\t\t\tbutton.querySelector('span').innerText = this.letters[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tclick(event)\n\t{\n\t\tevent && event.preventDefault();\n\n\t\tif(!('buttonId' in event.currentTarget.dataset))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst buttonId = Number(event.currentTarget.dataset.buttonId);\n\n\t\tthis.tags.buffer.focus();\n\n\t\tif(buttonId in this.letters)\n\t\t{\n\t\t\tconst letter = this.letters[buttonId];\n\n\t\t\tdocument.execCommand('insertText', false, letter);\n\t\t}\n\t}\n\n\tactivate(target)\n\t{\n\t\tif(this.args.active || this.tags.buffer.isSameNode(target))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.tags.buffer.focus();\n\n\t\tthis.tags.buffer.node.value = target.value;\n\t\tthis.args.active = true;\n\t\tthis.target      = target;\n\n\t\tthis.tags.buffer.value = '';\n\t}\n\n\tdeactivate(setValue = true)\n\t{\n\t\tif(setValue)\n\t\t{\n\t\t\tthis.target.value = this.tags.buffer.value;\n\t\t}\n\n\t\tthis.args.active  = false;\n\t}\n\n\tfocus(event)\n\t{\n\t\tevent.stopPropagation();\n\t\tevent.stopImmediatePropagation();\n\t}\n}\n","export const Config = {};","module.exports = \"<div class = \\\"arctype-host\\\" data-active = \\\"[[active]]\\\">\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>1</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>5</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>6</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>7</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class = \\\"arctype-wing\\\">\\n\\t\\t<div class = \\\"arctype-sector\\\">\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>8</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>2</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>3</span></div>\\n\\t\\t\\t<div class = \\\"arctype-button\\\" cv-on = \\\"click(event)\\\"><span>4</span></div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<button cv-on = \\\"click:deactivate\\\" class = \\\"close\\\">✕</button>\\n\\t<input cv-ref = \\\"buffer\\\" cv-on = \\\"focus\\\" />\\n\\t<div class = \\\"help-text\\\">\\n\\t\\t<b>Left stick</b> - Select a group.<br />\\n\\t\\t<b>Face buttons</b> Select a character.<br />\\n\\t\\t<b>D-Pad L/R</b> - Move text cursor left/right.<br />\\n\\t\\t<b>START/Enter</b> - Return to the page.<br />\\n\\t\\t<b>Left Bumper / L1</b> - Backspace<br />\\n\\t\\t<b>Right Bumper / R1</b> - Insert a space<br />\\n\\t\\t<b>Left Trigger / L2</b> - Capitals and symbols.<br />\\n\\t\\t<b>Right Trigger / R2</b> - Numbers and symbols.<br />\\n\\t</div>\\n</div>\\n\"","import { View } from 'curvature/base/View';\nimport { ArcType } from './ArcType';\n\nconst root = View.from(`\n\t<div class = \"page-wrapper\">\n\t\t<h1>ArcType Demo</h1>\n\t\t<p>Quicker typing for gamepads.</p>\n\t\t<section class = \"form\">\n\t\t\t<label>Test input: <input /></label>\n\t\t</section>\n\t\t<section class = \"footer\">&copy; 2021 - 2024 Sean Morris</section>\n\t</div>\n`);\n\ndocument.addEventListener('DOMContentLoaded', () => root.render(document.body));\n\nconst arc  = new ArcType;\n\n// Render arctype to the document body when the DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => arc.render(document.body));\n\n// Trigger ArcType on element focus\ndocument.addEventListener('focus', event => {\n\n\t// Ignore everything except typeable inputs and textareas\n\tif(!event.target.matches('input[type=\"text\"],textarea,input:not([type])'))\n\t{\n\t\treturn;\n\t}\n\n\t// Actvate arctype for the focused element\n\tarc.activate(event.target);\n\n}, {capture: true});\n","/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    },\n\n    javascript: function(){\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function(script) { return script.text }).filter(function(text) { return text.length > 0 });\n      var srcScripts = scripts.filter(function(script) { return script.src });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function(script) { eval(script); });\n        }\n      }\n\n      srcScripts\n        .forEach(function(script) {\n          var src = script.src;\n          script.remove();\n          var newScript = document.createElement('script');\n          newScript.src = cacheBuster(src);\n          newScript.async = true;\n          newScript.onload = onLoad;\n          document.head.appendChild(newScript);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n"]}